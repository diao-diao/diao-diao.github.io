<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>51nd0re1</title>
  
  <subtitle>我是一只web狗</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-07-22T14:30:40.345Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>51nd0re1</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>PHP-2020/7/22-学习日记</title>
    <link href="http://yoursite.com/2020/07/22/PHP-2020-7-22-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/22/PHP-2020-7-22-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-22T14:24:47.000Z</published>
    <updated>2020-07-22T14:30:40.345Z</updated>
    
    <content type="html"><![CDATA[<h1 id="创建MySQL表"><a href="#创建MySQL表" class="headerlink" title="创建MySQL表"></a>创建MySQL表</h1><p>数据库中需要有表，使用create table语句在MySQL中创建表</p><p>在创建表前，需要使用use databasename 来选择操作的数据库</p><h2 id="使用-MySQLi-和-PDO-创建-MySQL-表"><a href="#使用-MySQLi-和-PDO-创建-MySQL-表" class="headerlink" title="使用 MySQLi 和 PDO 创建 MySQL 表"></a>使用 MySQLi 和 PDO 创建 MySQL 表</h2><p>在MySQL中创建数据表的格式为</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> myDB;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> MyGuests (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>(<span class="number">6</span>) <span class="keyword">UNSIGNED</span> AUTO_INCREMENT PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    firstname <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    lastname <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    email <span class="built_in">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    reg_date <span class="built_in">TIMESTAMP</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>在PHP中实现基本与创建库一致<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php">$dbname = <span class="string">"myDB"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = <span class="keyword">new</span> mysqli($servername, $username, $password, $dbname);</span></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($conn-&gt;connect_error) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"连接失败: "</span> . $conn-&gt;connect_error);</span></span><br><span class="line"><span class="php">&#125; </span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 使用 sql 创建数据表</span></span></span><br><span class="line">$sql = "CREATE TABLE MyGuests (</span><br><span class="line">id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, </span><br><span class="line">firstname VARCHAR(30) NOT NULL,</span><br><span class="line">lastname VARCHAR(30) NOT NULL,</span><br><span class="line">email VARCHAR(50),</span><br><span class="line">reg_date TIMESTAMP</span><br><span class="line"><span class="php">)<span class="string">";</span></span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($conn-&gt;query($sql) === <span class="keyword">TRUE</span>) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Table MyGuests created successfully"</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"创建数据表错误: "</span> . $conn-&gt;error;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">$conn-&gt;close();</span></span><br></pre></td></tr></table></figure></p><p>面向过程<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php">$dbname = <span class="string">"myDB"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = mysqli_connect($servername, $username, $password, $dbname);</span></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (!$conn) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"连接失败: "</span> . mysqli_connect_error());</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 使用 sql 创建数据表</span></span></span><br><span class="line">$sql = "CREATE TABLE MyGuests (</span><br><span class="line">id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, </span><br><span class="line">firstname VARCHAR(30) NOT NULL,</span><br><span class="line">lastname VARCHAR(30) NOT NULL,</span><br><span class="line">email VARCHAR(50),</span><br><span class="line">reg_date TIMESTAMP</span><br><span class="line"><span class="php">)<span class="string">";</span></span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (mysqli_query($conn, $sql)) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"数据表 MyGuests 创建成功"</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"创建数据表错误: "</span> . mysqli_error($conn);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">mysqli_close($conn);</span></span><br></pre></td></tr></table></figure></p><p>PDO<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php">$dbname = <span class="string">"myDBPDO"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="php">    $conn = <span class="keyword">new</span> PDO(<span class="string">"mysql:host=$servername;dbname=$dbname"</span>, $username, $password);</span></span><br><span class="line"><span class="php">    <span class="comment">// 设置 PDO 错误模式，用于抛出异常</span></span></span><br><span class="line"><span class="php">    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">    <span class="comment">// 使用 sql 创建数据表</span></span></span><br><span class="line">    $sql = "CREATE TABLE MyGuests (</span><br><span class="line">    id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, </span><br><span class="line">    firstname VARCHAR(30) NOT NULL,</span><br><span class="line">    lastname VARCHAR(30) NOT NULL,</span><br><span class="line">    email VARCHAR(50),</span><br><span class="line">    reg_date TIMESTAMP</span><br><span class="line"><span class="php">    )<span class="string">";</span></span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">    <span class="comment">// 使用 exec() ，没有结果返回 </span></span></span><br><span class="line"><span class="php">    $conn-&gt;exec($sql);</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"数据表 MyGuests 创建成功"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span>(PDOException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $sql . <span class="string">"&lt;br&gt;"</span> . $e-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">$conn = <span class="keyword">null</span>;</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ol><li><p>基本上和创建数据库是一样的操作，多加上一个创建数据表的操作</p></li><li><p>在创建连接时加上一个dbname参数，来表示use选择数据库的作用</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;创建MySQL表&quot;&gt;&lt;a href=&quot;#创建MySQL表&quot; class=&quot;headerlink&quot; title=&quot;创建MySQL表&quot;&gt;&lt;/a&gt;创建MySQL表&lt;/h1&gt;&lt;p&gt;数据库中需要有表，使用create table语句在MySQL中创建表&lt;/p&gt;
&lt;p&gt;在创建
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/21-学习日记</title>
    <link href="http://yoursite.com/2020/07/21/PHP-2020-7-21-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/21/PHP-2020-7-21-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-21T14:15:00.000Z</published>
    <updated>2020-07-22T14:24:00.891Z</updated>
    
    <content type="html"><![CDATA[<h1 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h1><p>Mysql使用create语句来创建或删除数据库</p><h2 id="使用MySQLi和PDO创建MySQL数据库"><a href="#使用MySQLi和PDO创建MySQL数据库" class="headerlink" title="使用MySQLi和PDO创建MySQL数据库"></a>使用MySQLi和PDO创建MySQL数据库</h2><p>create databases语句用于在MySQL中创建数据库</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"root"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"root"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = <span class="keyword">new</span> mysqli($servername, $username, $password);</span></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($conn-&gt;connect_error) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"连接失败: "</span> . $conn-&gt;connect_error);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 创建数据库</span></span></span><br><span class="line"><span class="php">$sql = <span class="string">"CREATE DATABASE myDB"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($conn-&gt;query($sql) === <span class="keyword">TRUE</span>) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"数据库创建成功"</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Error creating database: "</span> . $conn-&gt;error;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$conn-&gt;close();</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据库创建成功</span><br></pre></td></tr></table></figure><br>并且数据库中也多了一个叫myDB的数据库</p><p>创建数据库时必须为mysqli对象指定三个参数(servername,username,password)</p><p>如果想更换默认端口3306 可以写为<code>new mysqli(&quot;localhost&quot;, &quot;username&quot;, &quot;password&quot;, port)</code></p><p>以下是面向过程创建 一样的套路<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = mysqli_connect($servername, $username, $password);</span></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (!$conn) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"连接失败: "</span> . mysqli_connect_error());</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 创建数据库</span></span></span><br><span class="line"><span class="php">$sql = <span class="string">"CREATE DATABASE myDB"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (mysqli_query($conn, $sql)) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"数据库创建成功"</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Error creating database: "</span> . mysqli_error($conn);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">mysqli_close($conn);</span></span><br></pre></td></tr></table></figure></p><p>用PDO创建<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="php">    $conn = <span class="keyword">new</span> PDO(<span class="string">"mysql:host=$servername"</span>, $username, $password);</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 设置 PDO 错误模式为异常</span></span></span><br><span class="line"><span class="php">    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);</span></span><br><span class="line"><span class="php">    $sql = <span class="string">"CREATE DATABASE myDBPDO"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 使用 exec() ，因为没有结果返回</span></span></span><br><span class="line"><span class="php">    $conn-&gt;exec($sql);</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"数据库创建成功&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span>(PDOException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $sql . <span class="string">"&lt;br&gt;"</span> . $e-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$conn = <span class="keyword">null</span>;</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ol><li><p>使用 PDO 的最大好处是在数据库查询过程出现问题时可以使用异常类来 处理问题。如果 try{ } 代码块出现异常，脚本会停止执行并会跳到第一个 catch(){ } 代码块执行代码。 在以上捕获的代码块中我们输出了 SQL 语句并生成错误信息</p></li><li><p>面向对象创建数据库是调用对象的query()方法</p></li><li><p>面向过程创建数据库使用mysqli_query()方法</p></li><li><p>PDO可以设置错误模式为异常，并使用exec()方法来创建数据库setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION)</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;创建数据库&quot;&gt;&lt;a href=&quot;#创建数据库&quot; class=&quot;headerlink&quot; title=&quot;创建数据库&quot;&gt;&lt;/a&gt;创建数据库&lt;/h1&gt;&lt;p&gt;Mysql使用create语句来创建或删除数据库&lt;/p&gt;
&lt;h2 id=&quot;使用MySQLi和PDO创建MySQL数据
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/20-学习日记</title>
    <link href="http://yoursite.com/2020/07/20/PHP-2020-7-20-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/20/PHP-2020-7-20-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-20T12:28:00.000Z</published>
    <updated>2020-07-21T13:16:09.455Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PHP-MySQL"><a href="#PHP-MySQL" class="headerlink" title="PHP MySQL"></a>PHP MySQL</h1><p>通过PHP，可以连接和操作数据库</p><h2 id="PHP-MySQL-1"><a href="#PHP-MySQL-1" class="headerlink" title="PHP+MySQL"></a>PHP+MySQL</h2><p>PHP与MySQL的结合是跨平台的，可以在Windows上和Unix平台上应用</p><h2 id="连接MySQL"><a href="#连接MySQL" class="headerlink" title="连接MySQL"></a>连接MySQL</h2><p>PHP5以上版本建议使用以下方式连接MySQL:</p><ul><li>MySQLi extension（i 意为 improved)</li><li>PDO(PHP Data Objects)</li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>面向对象<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"root"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"root"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = <span class="keyword">new</span> mysqli($servername, $username, $password);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($conn-&gt;connect_error) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"连接失败: "</span> . $conn-&gt;connect_error);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"连接成功"</span>;</span></span><br></pre></td></tr></table></figure><br>面向过程<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 创建连接</span></span></span><br><span class="line"><span class="php">$conn = mysqli_connect($servername, $username, $password);</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 检测连接</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (!$conn) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"Connection failed: "</span> . mysqli_connect_error());</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"连接成功"</span>;</span></span><br></pre></td></tr></table></figure><br>面前PDO<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$servername = <span class="string">"localhost"</span>;</span></span><br><span class="line"><span class="php">$username = <span class="string">"username"</span>;</span></span><br><span class="line"><span class="php">$password = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="php">    $conn = <span class="keyword">new</span> PDO(<span class="string">"mysql:host=$servername;"</span>, $username, $password);</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"连接成功"</span>; </span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span>(PDOException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $e-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure></p><h2 id="关闭连接"><a href="#关闭连接" class="headerlink" title="关闭连接"></a>关闭连接</h2><p>面向对象<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$conn</span>-&gt;<span class="keyword">close</span>()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><p>面向过程<br><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli<span class="constructor">_close($<span class="params">conn</span>)</span>;</span><br></pre></td></tr></table></figure></p><p>PDO<br><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$co</span>nn = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.在链接的时候出现了很多问题，大致问题是因为PHP和MySQL的版本问题，我用的是PHP7.2和MySQL8.1.5，由于MySQL版本更新了加密策略<code>caching_sha2_password</code><br>但PHP用的是<code>mysql_native_password</code>，所以需要在mysql的ini配置文件里default_authentication_plugin改为<br>mysql_native_password<br>并且使用alter user更新一次密码</p><p>2.PDO 应用在 12 种不同数据库中， MySQLi 只针对 MySQL 数据库，如果你的项目需要在多种数据库中切换，建议使用 PDO</p><p>3.面向对象连接数据库，需要使用<code>new mysqli($servername, $username, $password)</code></p><p>4.面向过程使用<code>mysqli_connect($servername, $username, $password)</code>来连接</p><p>5.PDO则声明PDO的对象<br><code>new PDO(&quot;mysql:host=$servername;&quot;, $username, $password)</code></p><p>6.关闭连接，面向对象调用对象的close()方法；面向过程使用mysqli_close()方法；PDO则将PDO对象赋值为null</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;PHP-MySQL&quot;&gt;&lt;a href=&quot;#PHP-MySQL&quot; class=&quot;headerlink&quot; title=&quot;PHP MySQL&quot;&gt;&lt;/a&gt;PHP MySQL&lt;/h1&gt;&lt;p&gt;通过PHP，可以连接和操作数据库&lt;/p&gt;
&lt;h2 id=&quot;PHP-MySQL-1&quot;&gt;
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/19-学习日记</title>
    <link href="http://yoursite.com/2020/07/19/PHP-2020-7-19-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/19/PHP-2020-7-19-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-19T09:22:00.000Z</published>
    <updated>2020-07-20T09:36:25.657Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><h2 id="JSON函数"><a href="#JSON函数" class="headerlink" title="JSON函数"></a>JSON函数</h2><div class="table-container"><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>json_encode</td><td>对变量进行JSON编码</td></tr><tr><td>json_decode</td><td>对JSON格式的字符串进行解码，转为PHP变量</td></tr><tr><td>json_last_error</td><td>返回最后发生错误</td></tr></tbody></table></div><h2 id="json-encode"><a href="#json-encode" class="headerlink" title="json_encode"></a>json_encode</h2><p>PHP json_encode() 用于对变量进行 JSON 编码，该函数如果执行成功返回 JSON 数据，否则返回 FALSE </p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> json_encode ( $value [, $options = <span class="number">0</span> ] )</span><br></pre></td></tr></table></figure><h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul><li>value 要编码的值，该函数只对UTF-8编码的数据有效</li><li>options 由以下常量组成的二进制掩码JSON_HEX_QUOT, JSON_HEX_TAG, JSON_HEX_AMP, JSON_HEX_APOS, JSON_NUMERIC_CHECK, JSON_PRETTY_PRINT, JSON_UNESCAPED_SLASHES, JSON_FORCE_OBJECT, JSON_PRESERVE_ZERO_FRACTION, JSON_UNESCAPED_UNICODE, JSON_PARTIAL_OUTPUT_ON_ERROR<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">   $arr = <span class="keyword">array</span>(<span class="string">'a'</span> =&gt; <span class="number">1</span>, <span class="string">'b'</span> =&gt; <span class="number">2</span>, <span class="string">'c'</span> =&gt; <span class="number">3</span>, <span class="string">'d'</span> =&gt; <span class="number">4</span>, <span class="string">'e'</span> =&gt; <span class="number">5</span>);</span></span><br><span class="line"><span class="php">   <span class="keyword">echo</span> json_encode($arr);</span></span><br></pre></td></tr></table></figure>运行结果<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"a"</span>:<span class="number">1</span>,<span class="attr">"b"</span>:<span class="number">2</span>,<span class="attr">"c"</span>:<span class="number">3</span>,<span class="attr">"d"</span>:<span class="number">4</span>,<span class="attr">"e"</span>:<span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure></li></ul><p>如何将PHP对象转换为JSON格式<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">   <span class="class"><span class="keyword">class</span> <span class="title">Emp</span> </span>&#123;</span></span><br><span class="line"><span class="php">       <span class="keyword">public</span> $name = <span class="string">""</span>;</span></span><br><span class="line"><span class="php">       <span class="keyword">public</span> $hobbies  = <span class="string">""</span>;</span></span><br><span class="line"><span class="php">       <span class="keyword">public</span> $birthdate = <span class="string">""</span>;</span></span><br><span class="line"><span class="php">   &#125;</span></span><br><span class="line"><span class="php">   $e = <span class="keyword">new</span> Emp();</span></span><br><span class="line"><span class="php">   $e-&gt;name = <span class="string">"sachin"</span>;</span></span><br><span class="line"><span class="php">   $e-&gt;hobbies  = <span class="string">"sports"</span>;</span></span><br><span class="line"><span class="php">   $e-&gt;birthdate = date(<span class="string">'m/d/Y h:i:s a'</span>, <span class="string">"8/5/1974 12:20:03 p"</span>);</span></span><br><span class="line"><span class="php">   $e-&gt;birthdate = date(<span class="string">'m/d/Y h:i:s a'</span>, strtotime(<span class="string">"8/5/1974 12:20:03"</span>));</span></span><br><span class="line"></span><br><span class="line"><span class="php">   <span class="keyword">echo</span> json_encode($e);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"name"</span>:<span class="string">"sachin"</span>,<span class="attr">"hobbies"</span>:<span class="string">"sports"</span>,<span class="attr">"birthdate"</span>:<span class="string">"08\/05\/1974 12:20:03 pm"</span>&#125;</span><br></pre></td></tr></table></figure></p><p>还可以使用JSON_UNESCAPED_UNICODE选项<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">   $arr = <span class="keyword">array</span>(<span class="string">'runoob'</span> =&gt; <span class="string">'菜鸟教程'</span>, <span class="string">'taobao'</span> =&gt; <span class="string">'淘宝网'</span>);</span></span><br><span class="line"><span class="php">   <span class="keyword">echo</span> json_encode($arr); <span class="comment">// 编码中文</span></span></span><br><span class="line"><span class="php">   <span class="keyword">echo</span> PHP_EOL;  <span class="comment">// 换行符</span></span></span><br><span class="line"><span class="php">   <span class="keyword">echo</span> json_encode($arr, JSON_UNESCAPED_UNICODE);  <span class="comment">// 不编码中文</span></span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"runoob"</span>:<span class="string">"\u83dc\u9e1f\u6559\u7a0b"</span>,<span class="attr">"taobao"</span>:<span class="string">"\u6dd8\u5b9d\u7f51"</span>&#125;</span><br><span class="line">&#123;<span class="attr">"runoob"</span>:<span class="string">"菜鸟教程"</span>,<span class="attr">"taobao"</span>:<span class="string">"淘宝网"</span>&#125;</span><br></pre></td></tr></table></figure><br>这个例子就可以看到区别了，如果不加选项的话则会将中文也转译为编码</p><h2 id="json-decode"><a href="#json-decode" class="headerlink" title="json_decode"></a>json_decode</h2><p>json_decode() 函数用于对 JSON 格式的字符串进行解码，并转换为 PHP 变量</p><h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mixed</span> json_decode (<span class="variable">$json_string</span> [,<span class="variable">$assoc</span> = <span class="literal">false</span> [, <span class="variable">$depth</span> = <span class="number">512</span> [, <span class="variable">$options</span> = <span class="number">0</span> ]]])</span><br></pre></td></tr></table></figure><h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><ul><li>json_string 待解码的JSON字符串，必须是UTF-8编码数据</li><li>assoc 当该参数为TRUE时，将返回数组，FALSE时返回对象</li><li>depth 整数类型的参数，它指定递归深度</li><li>options 二进制掩码，目前只支持JSON_BIGINT_AS_STRING</li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">   $json = '&#123;<span class="string">"a"</span>:<span class="number">1</span>,<span class="string">"b"</span>:<span class="number">2</span>,<span class="string">"c"</span>:<span class="number">3</span>,<span class="string">"d"</span>:<span class="number">4</span>,<span class="string">"e"</span>:<span class="number">5</span>&#125;';</span><br><span class="line"></span><br><span class="line">   var<span class="constructor">_dump(<span class="params">json_decode</span>($<span class="params">json</span>)</span>);</span><br><span class="line">   var<span class="constructor">_dump(<span class="params">json_decode</span>($<span class="params">json</span>, <span class="params">true</span>)</span>);</span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span>(stdClass)<span class="meta">#1 (5) &#123;</span></span><br><span class="line">  [<span class="meta"><span class="meta-string">"a"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">1</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"b"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">2</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"c"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">3</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"d"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">4</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"e"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line">array(<span class="number">5</span>) &#123;</span><br><span class="line">  [<span class="meta"><span class="meta-string">"a"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">1</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"b"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">2</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"c"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">3</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"d"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">4</span>)</span><br><span class="line">  [<span class="meta"><span class="meta-string">"e"</span></span>]=&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">5</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.JSON转PHP使用json_decode</p><p>2.PHP转JSON使用json_encode</p><p>3.json_decode的assoc参数为true时，就返回数组，否则就是对象</p><p>4.json_encode定义的类型是string；json_decode定义的类型是mixed</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;JSON&quot;&gt;&lt;a href=&quot;#JSON&quot; class=&quot;headerlink&quot; title=&quot;JSON&quot;&gt;&lt;/a&gt;JSON&lt;/h1&gt;&lt;h2 id=&quot;JSON函数&quot;&gt;&lt;a href=&quot;#JSON函数&quot; class=&quot;headerlink&quot; title=&quot;JSON函
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/18-学习日记</title>
    <link href="http://yoursite.com/2020/07/18/PHP-2020-7-18-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/18/PHP-2020-7-18-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-18T00:37:32.000Z</published>
    <updated>2020-07-19T00:50:09.568Z</updated>
    
    <content type="html"><![CDATA[<h1 id="高级过滤器"><a href="#高级过滤器" class="headerlink" title="高级过滤器"></a>高级过滤器</h1><h2 id="检测一个数字是否在一个范围内"><a href="#检测一个数字是否在一个范围内" class="headerlink" title="检测一个数字是否在一个范围内"></a>检测一个数字是否在一个范围内</h2><p>使用filter_var()函数来检测一个int型的变量是否在1到200内：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$int = <span class="number">122</span>;</span></span><br><span class="line"><span class="php">$min = <span class="number">1</span>;</span></span><br><span class="line"><span class="php">$max = <span class="number">200</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">if</span> (filter_var($int, FILTER_VALIDATE_INT, <span class="keyword">array</span>(<span class="string">"options"</span> =&gt; <span class="keyword">array</span>(<span class="string">"min_range"</span>=&gt;$min, <span class="string">"max_range"</span>=&gt;$max))) === <span class="keyword">false</span>) &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span>(<span class="string">"变量值不在合法范围内"</span>);</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span>(<span class="string">"变量值在合法范围内"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量值在合法范围内</span><br></pre></td></tr></table></figure><br>这个地方使用了FILTER_VALIDATE_INT，这个过滤器把值作为整数来验证</p><p>还可以添加选项和标志</p><ul><li>min_range 规定最小整数</li><li>max_range 规定最大整数</li><li>FILTER_FLAG_ALLOW_OCTAL 允许八进制</li><li>FILTER_FLAG_ALLOW_HEX 允许十六进制</li></ul><p>当在数组中规定选项时，选项必须存入一个名为 “options” 的关联多维数组中</p><p>具体使用方法看实例</p><h2 id="检测IPV6地址"><a href="#检测IPV6地址" class="headerlink" title="检测IPV6地址"></a>检测IPV6地址</h2><p>依旧是使用filter_var()函数来检测$ip变量是否为IPV6地址<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$ip</span> = <span class="string">"2001:0db8:85a3:08d3:1319:8a2e:0370:7334"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!filter_var(<span class="variable">$ip</span>, FILTER_VALIDATE_IP, FILTER_FLAG_IPV6) === <span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="built_in">echo</span>(<span class="string">"<span class="variable">$ip</span> 是一个 IPv6 地址"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">echo</span>(<span class="string">"<span class="variable">$ip</span> 不是一个 IPv6 地址"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2001:0db8:85a3:08d3:1319:8a2e:0370:7334 是一个<span class="built_in"> IPv6 </span>地址</span><br></pre></td></tr></table></figure></p><p>FILTER_VALIDATE_IP 过滤器把值作为 IP 进行验证<br>选项有</p><ul><li>FILTER_FLAG_IPV4 - 要求值是合法的 IPv4 IP</li><li>FILTER_FLAG_IPV6 - 要求值是合法的 IPv6 IP</li><li>FILTER_FLAG_NO_PRIV_RANGE - 要求值是 RFC 指定的私域 IP</li><li>FILTER_FLAG_NO_RES_RANGE - 要求值不在保留的 IP 范围内</li></ul><h2 id="检测URL"><a href="#检测URL" class="headerlink" title="检测URL"></a>检测URL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$url</span> = <span class="string">"http://www.runoob.com"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!filter_var(<span class="variable">$url</span>, FILTER_VALIDATE_URL, FILTER_FLAG_QUERY_REQUIRED) === <span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="built_in">echo</span>(<span class="string">"<span class="variable">$url</span> 是一个合法的 URL"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">echo</span>(<span class="string">"<span class="variable">$url</span> 不是一个合法的 URL"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//www.runoob.com 不是一个合法的 URL</span></span><br></pre></td></tr></table></figure><br>FILTER_VALIDATE_URL 过滤器把值作为 URL 来验证</p><p>标志</p><ul><li>FILTER_FLAG_SCHEME_REQUIRED - 要求 URL 是 RFC 兼容 URL（比如 <a href="http://example）" target="_blank" rel="noopener">http://example）</a></li><li>FILTER_FLAG_HOST_REQUIRED - 要求 URL 包含主机名（比如 <a href="http://www.example.com）" target="_blank" rel="noopener">http://www.example.com）</a></li><li>FILTER_FLAG_PATH_REQUIRED - 要求 URL 在域名后存在路径（比如 www.example.com/example1/test2/）</li><li>FILTER_FLAG_QUERY_REQUIRED - 要求 URL 存在查询字符串（比如 “example.php?name=Peter&amp;age=37”）</li></ul><h2 id="移除ASCII大于127的字符"><a href="#移除ASCII大于127的字符" class="headerlink" title="移除ASCII大于127的字符"></a>移除ASCII大于127的字符</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$str = <span class="string">"&lt;h1&gt;Hello WorldÆØÅ!&lt;/h1&gt;"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$newstr = filter_var($str, FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_HIGH);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $newstr;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br></pre></td></tr></table></figure><br>FILTER_SANITIZE_STRING 过滤器去除或编码不需要的字符。</p><p>该过滤器删除那些对应用程序有潜在危害的数据。它用于去除标签以及删除或编码不需要的字符</p><ul><li>FILTER_FLAG_NO_ENCODE_QUOTES - 该标志不编码引号</li><li>FILTER_FLAG_STRIP_LOW - 去除 ASCII 值在 32 以下的字符</li><li>FILTER_FLAG_STRIP_HIGH - 去除 ASCII 值在 127 以上的字符</li><li>FILTER_FLAG_ENCODE_LOW - 编码 ASCII 值在 32 以下的字符</li><li>FILTER_FLAG_ENCODE_HIGH - 编码 ASCII 值在 127 以上的字符</li><li>FILTER_FLAG_ENCODE_AMP - 把 &amp; 字符编码为 &amp;amp</li></ul><p>更多过滤器请参考<br><a href="https://www.runoob.com/php/php-ref-filter.html" target="_blank" rel="noopener">https://www.runoob.com/php/php-ref-filter.html</a></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.涉及到过滤都使用filter_var()函数</p><p>2.结合简单过滤器和选项可以做到很多操作</p><p>3.在使用FILTER_VALIDATE_INT时，想要使用数组来作为选项，数组名必须为options</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;高级过滤器&quot;&gt;&lt;a href=&quot;#高级过滤器&quot; class=&quot;headerlink&quot; title=&quot;高级过滤器&quot;&gt;&lt;/a&gt;高级过滤器&lt;/h1&gt;&lt;h2 id=&quot;检测一个数字是否在一个范围内&quot;&gt;&lt;a href=&quot;#检测一个数字是否在一个范围内&quot; class=&quot;head
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/17-学习日记</title>
    <link href="http://yoursite.com/2020/07/17/PHP-2020-7-17-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/17/PHP-2020-7-17-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-17T01:57:42.000Z</published>
    <updated>2020-07-19T00:50:13.464Z</updated>
    
    <content type="html"><![CDATA[<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><p>异常用于在指定的错误发生时改变脚本的正常流程</p><h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>PHP5提供了一种新的面向对象地错误处理方法</p><p>异常处理用于在指定的错误(异常)情况发生时改变脚本地正常流程。这种情况被称为异常</p><p>当异常被触发时:</p><ul><li>当前代码状态被保存</li><li>代码执行被切换到预定义的异常处理器函数</li><li>根据情况，处理器也许会从保存的代码状态重新开始执行代码，终止脚本执行，或从代码中另外的位置继续执行脚本</li></ul><p>错误处理方法:</p><ul><li>异常的基本使用</li><li>创建自定义的异常处理器</li><li>多个异常</li><li>重新抛出异常</li><li>设置顶层异常处理器</li></ul><p>异常只能用在错误情况下使用，而不应该被用于一个点跳到另一个点的情况</p><h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h2><p>当异常被抛出时，其后的代码不会继续执行，PHP会尝试查找匹配的catch代码块</p><p>如果异常没有被捕获，而且又没用set_exception_handler()作相应处理的话，那就会发生一个致命错误，并且输出”Uncaught Exception”的错误消息</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 创建一个有异常处理的函数</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">checkNum</span><span class="params">($number)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>($number&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"Value must be 1 or below"</span>);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// 触发异常</span></span></span><br><span class="line"><span class="php">checkNum(<span class="number">2</span>);</span></span><br></pre></td></tr></table></figure><p>这个例子触发异常但是没去捕获它，就会得到这样的错误<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Fatal error: Uncaught Exception: Value must be 1 or below in F:<span class="symbol">\d</span>efault<span class="symbol">\P</span>HP_default<span class="symbol">\t</span>est1.php:7</span><br><span class="line">Stack trace:</span><br><span class="line">#0 F:<span class="symbol">\d</span>efault<span class="symbol">\P</span>HP_default<span class="symbol">\t</span>est1.php(13): checkNum(2)</span><br><span class="line">#1 &#123;main&#125;</span><br><span class="line">  thrown in F:<span class="symbol">\d</span>efault<span class="symbol">\P</span>HP_default<span class="symbol">\t</span>est1.php on line 7</span><br></pre></td></tr></table></figure></p><h2 id="Try、throw和catch"><a href="#Try、throw和catch" class="headerlink" title="Try、throw和catch"></a>Try、throw和catch</h2><p>要避免上面实例中出现的错误，我们需要创建适当的代码来处理异常</p><p>适当的处理异常代码应该包括</p><ul><li>Try 使用异常的函数应该位于”try”代码块内。如果没有触发异常，则代码将照常继续执行。但是如果异常被触发，会抛出一个异常</li><li>Throw 里规定如何触发异常。每一个”throw”必须对应至少一个”catch”</li><li>Catch “catch”代码块会捕获异常，并创建一个包含异常信息的对象</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 创建一个有异常处理的函数</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">checkNum</span><span class="params">($number)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>($number&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"变量值必须小于等于 1"</span>);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">return</span> <span class="keyword">true</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 在 try 块 触发异常</span></span></span><br><span class="line"><span class="php"><span class="keyword">try</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    checkNum(<span class="number">2</span>);</span></span><br><span class="line"><span class="php">    <span class="comment">// 如果抛出异常，以下文本不会输出</span></span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'如果输出该内容，说明 $number 变量'</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="comment">// 捕获异常</span></span></span><br><span class="line"><span class="php"><span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">'Message: '</span> .$e-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Message:</span> <span class="string">变量值必须小于等于</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></p><h3 id="实例解释"><a href="#实例解释" class="headerlink" title="实例解释"></a>实例解释</h3><p>上面的代码解释为</p><ul><li>创建checkNum()函数。它检测数字是否大于1。如果是，则抛出一个异常</li><li>在”try”代码块中调用checkNum()函数</li><li>checkNum()函数中的异常被抛出</li><li>“catch”代码块接收到该异常，并创建一个包含异常信息的对象，通常为$e</li><li>通过从这个exception对象调用$e-&gt;getMessage()，输出来自该异常的错误信息</li></ul><h2 id="创建自定义异常"><a href="#创建自定义异常" class="headerlink" title="创建自定义异常"></a>创建自定义异常</h2><p>创建自定义的异常处理程序非常简单。简单创建一个专门的类，当发生异常时，可调用其函数。该类必须为exception类的子类</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">customException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">errorMessage</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 错误信息</span></span></span><br><span class="line"><span class="php">        $errorMsg = <span class="string">'错误行号 '</span>.<span class="keyword">$this</span>-&gt;getLine().<span class="string">' in '</span>.<span class="keyword">$this</span>-&gt;getFile()</span></span><br><span class="line"><span class="php">            .<span class="string">':'</span>.<span class="string">"\n"</span>.<span class="keyword">$this</span>-&gt;getMessage().<span class="string">' 不是一个合法的 E-Mail 地址'</span>;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> $errorMsg;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$email = <span class="string">"someone@example...com"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">try</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 检测邮箱</span></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(filter_var($email, FILTER_VALIDATE_EMAIL) === <span class="keyword">FALSE</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 如果是个不合法的邮箱地址，抛出异常</span></span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> customException($email);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">catch</span> (customException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php"><span class="comment">//display custom message</span></span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $e-&gt;errorMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="实例解释-1"><a href="#实例解释-1" class="headerlink" title="实例解释"></a>实例解释</h3><ul><li>该例子通过自定义的exception类来捕获异常</li><li>customException()类作为旧的exception类的子类，继承了exception类的所有属性和方法</li><li>创建errorMessage()函数。如果e-mail地址不合法，则该函数返回一条错误消息</li><li>把$email变量设置为不合法的e-mail地址字符串</li><li>执行”try”代码块，由于e-mail地址不合法，因此抛出一个异常</li><li>“catch”代码块捕获异常，并显示错误消息</li></ul><h2 id="多个异常"><a href="#多个异常" class="headerlink" title="多个异常"></a>多个异常</h2><p>可以为脚本使用多个异常，来检测多种情况<br>可以使用多个if…else代码块，或一个switch代码块，或者嵌套多个异常。这些异常能够使用不同的exception类，返回不同的错误信息<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">customException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">errorMessage</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 错误信息</span></span></span><br><span class="line"><span class="php">        $errorMsg = <span class="string">'错误行号 '</span>.<span class="keyword">$this</span>-&gt;getLine().<span class="string">' in '</span>.<span class="keyword">$this</span>-&gt;getFile()</span></span><br><span class="line"><span class="php">            .<span class="string">':'</span>.<span class="string">"\n"</span>.<span class="keyword">$this</span>-&gt;getMessage().<span class="string">' 不是一个合法的 E-Mail 地址'</span>;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> $errorMsg;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$email = <span class="string">"someone@example@.com"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">try</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 检测邮箱</span></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(filter_var($email, FILTER_VALIDATE_EMAIL) === <span class="keyword">FALSE</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 如果是个不合法的邮箱地址，抛出异常</span></span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> customException($email);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="comment">// 检测 "example" 是否在邮箱地址中</span></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(strpos($email, <span class="string">"example"</span>) !== <span class="keyword">FALSE</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"$email 是 example 邮箱"</span>);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span> (customException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $e-&gt;errorMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $e-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>基本与上个例子一致，不过是使用了判断语句和多个catch来实现了多异常的处理</p><h2 id="重新抛出异常"><a href="#重新抛出异常" class="headerlink" title="重新抛出异常"></a>重新抛出异常</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">customException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">errorMessage</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 错误信息</span></span></span><br><span class="line"><span class="php">        $errorMsg = <span class="keyword">$this</span>-&gt;getMessage().<span class="string">' 不是一个合法的 E-Mail 地址。'</span>;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> $errorMsg;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$email = <span class="string">"someone@exampl.com"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">try</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">try</span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 检测 "example" 是否在邮箱地址中</span></span></span><br><span class="line"><span class="php">        <span class="keyword">if</span>(strpos($email, <span class="string">"example"</span>) !== <span class="keyword">FALSE</span>)</span></span><br><span class="line"><span class="php">        &#123;</span></span><br><span class="line"><span class="php">            <span class="comment">// 如果是个不合法的邮箱地址，抛出异常</span></span></span><br><span class="line"><span class="php">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>($email);</span></span><br><span class="line"><span class="php">        &#125;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="comment">// 重新抛出异常</span></span></span><br><span class="line"><span class="php">        <span class="keyword">throw</span> <span class="keyword">new</span> customException($email);</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">catch</span> (customException $e)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 显示自定义信息</span></span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $e-&gt;errorMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>有时候，当异常被抛出时，希望以不同于标准的方式处理，就可以套娃</p><p>与上面例子几乎无异，不解释了</p><h2 id="设置顶层异常处理器"><a href="#设置顶层异常处理器" class="headerlink" title="设置顶层异常处理器"></a>设置顶层异常处理器</h2><p>set_exception_handler() 函数可设置处理所有未捕获异常的用户定义函数</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">myException</span><span class="params">($exception)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Exception: "</span> , $exception-&gt;getMessage();</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">set_exception_handler(<span class="string">'myException'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">'Uncaught Exception occurred'</span>);</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Exception</span>: Uncaught <span class="keyword">Exception</span> occurred</span><br></pre></td></tr></table></figure><br>上面不存在catch代码块，而是触发顶层的异常处理程序。应该使用此函数来捕获所有未捕获的异常</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.需要进行异常处理的代码必须放入try代码块中，以便捕获潜在的异常</p><p>2.每个try或throw代码块必须至少拥有一个对应的catch代码块</p><p>3.使用多个catch代码块可以捕获不同种类的异常</p><p>4.可以在try代码块内的catch代码块中抛出或再次抛出异常</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;异常处理&quot;&gt;&lt;a href=&quot;#异常处理&quot; class=&quot;headerlink&quot; title=&quot;异常处理&quot;&gt;&lt;/a&gt;异常处理&lt;/h1&gt;&lt;p&gt;异常用于在指定的错误发生时改变脚本的正常流程&lt;/p&gt;
&lt;h2 id=&quot;异常&quot;&gt;&lt;a href=&quot;#异常&quot; class=&quot;he
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/16-学习日记</title>
    <link href="http://yoursite.com/2020/07/16/PHP-2020-7-16-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/16/PHP-2020-7-16-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-16T13:04:29.000Z</published>
    <updated>2020-07-16T13:40:15.204Z</updated>
    
    <content type="html"><![CDATA[<h1 id="error"><a href="#error" class="headerlink" title="error"></a>error</h1><p>在PHP中，默认的错误处理很简单。一条错误消息会被发送到浏览器，这条消息带有文件名、行号以及描述错误的消息</p><h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p>在创建脚本和Web应用程序时，错误处理是一个很重要的部分，如果你的代码缺少错误检测编码，那么程序就很不专业</p><p>错误处理方法为</p><ul><li>简单的”die()”语句</li><li>自定义错误和错误触发器</li><li>错误报告</li></ul><h2 id="die-函数"><a href="#die-函数" class="headerlink" title="die()函数"></a>die()函数</h2><p>打开文本文件<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$file=fopen(<span class="string">"welcome.txt"</span>,<span class="string">"r"</span>);</span></span><br></pre></td></tr></table></figure><br>如果文件不存在就会得到类似错误<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Warning: fopen(welcome.txt) [function.fopen]: failed to <span class="keyword">open</span> stream:</span><br><span class="line"><span class="keyword">No</span> such <span class="keyword">file</span> or directory <span class="keyword">in</span> /www/runoob/<span class="keyword">test</span>/<span class="keyword">test</span>.php <span class="keyword">on</span> <span class="keyword">line</span> 2</span><br></pre></td></tr></table></figure></p><p>为了避免以上错误，访问之前检测该文件是否存在<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span>(!file_exists(<span class="string">"welcome.txt"</span>))</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>(<span class="string">"文件不存在"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">else</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    $file=fopen(<span class="string">"welcome.txt"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">文件不存在</span><br></pre></td></tr></table></figure></p><h2 id="自定义错误处理器"><a href="#自定义错误处理器" class="headerlink" title="自定义错误处理器"></a>自定义错误处理器</h2><p>创建自定义的错误处理器非常多，很简单地创建一个专用函数，可以在PHP中发生错误时调用该函数</p><p>该函数必须要有能力处理两个参数(error level和eroor message)，可以最多接受五个参数</p><p>语法<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error_function(<span class="name">error_level</span>,error_message,</span><br><span class="line">error_file,error_line,error_context)</span><br></pre></td></tr></table></figure><br>参数 | 描述</p><ul><li>| -<br>error_level | 必需。为用户定义的错误规定错误报告级别。必须是一个数字。<br>error_message | 必需。为用户定义的错误规定错误信息<br>error_file | 可选。规定错误发生的文件名<br>error_line | 可选。规定错误发生的行号<br>error_context | 可选。规定一个数组，包含了当错误发生时在用的每个变量以及它们的值</li></ul><h2 id="错误报告级别"><a href="#错误报告级别" class="headerlink" title="错误报告级别"></a>错误报告级别</h2><p>用户自定义的错误处理程序处理的不同类型的错误</p><div class="table-container"><table><thead><tr><th>值</th><th>常量</th><th>描述</th></tr></thead><tbody><tr><td>2</td><td>E_WARNING</td><td>非致命的run-time错误。不暂停脚本执行</td></tr><tr><td>8</td><td>E_NOTICE</td><td>run-time通知。在脚本发现可能有错误时发生，但也可能在脚本正常运行时发生</td></tr><tr><td>256</td><td>E_USER_ERROR</td><td>致命的用户生成的错误。这类似于程序员使用PHP函数trigger_error()设置的E_ERROR</td></tr><tr><td>512</td><td>E_USER_WARNING</td><td>非致命的用户生成的警告。这类似于程序员使用PHP函数trigger_error()设置的E_WARNING</td></tr><tr><td>1024</td><td>E_USER_NOTICE</td><td>用户生成的通知。这类似于程序员使用PHP函数trigger_error()设置的E_NOTICE</td></tr><tr><td>4096</td><td>E_RECOVERABLE_ERROR</td><td>可捕获的致命错误。类似E_ERROR,但可被用户定义的处理程序捕获</td></tr><tr><td>8191</td><td>E_ALL</td><td>所有错误和警告</td></tr></tbody></table></div><p>现在创建一个处理错误的函数<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">customError</span><span class="params">($errno, $errstr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"&lt;b&gt;Error:&lt;/b&gt; [$errno] $errstr&lt;br&gt;"</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"脚本结束"</span>;</span><br><span class="line">    <span class="keyword">die</span>();</span><br></pre></td></tr></table></figure><br>上面的代码就是一个简单的错误处理函数，当它被触发时，它会取得错误级别和错误消息。然后它会输出错误级别和消息，并终止脚本</p><h2 id="设立错误处理程序"><a href="#设立错误处理程序" class="headerlink" title="设立错误处理程序"></a>设立错误处理程序</h2><p>对于所有错误来使用我们自定义的错误处理程序<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_error_handler(<span class="string">"customError"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure><br>set_error_handler()仅需要一个参数，可以添加第二个参数来规定错误级别</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 错误处理函数</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">customError</span><span class="params">($errno, $errstr)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"&lt;b&gt;Error:&lt;/b&gt; [$errno] $errstr"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 设置错误处理函数</span></span></span><br><span class="line"><span class="php">set_error_handler(<span class="string">"customError"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 触发错误</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span>($test);</span></span><br></pre></td></tr></table></figure><h2 id="触发错误"><a href="#触发错误" class="headerlink" title="触发错误"></a>触发错误</h2><p>在脚本中用户输入数据的位置，当用户的输入无效时触发错误是很有用的，这个任务由trigger_error()函数完成</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$test=<span class="number">2</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($test&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    trigger_error(<span class="string">"变量值必须小于等于 1"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Notice</span>: 变量值必须小于等于 <span class="number">1</span></span><br><span class="line"><span class="keyword">in</span> /www/test/runoob.php <span class="keyword">on</span> <span class="type">line</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><br>该例子是”test” 变量大于 “1”，就会发生错误</p><p>还可以添加的第二个参数，您能够规定所触发的错误类型</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 错误处理函数</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">customError</span><span class="params">($errno, $errstr)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"&lt;b&gt;Error:&lt;/b&gt; [$errno] $errstr&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"脚本结束"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">die</span>();</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 设置错误处理函数</span></span></span><br><span class="line"><span class="php">set_error_handler(<span class="string">"customError"</span>,E_USER_WARNING);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 触发错误</span></span></span><br><span class="line"><span class="php">$test=<span class="number">2</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($test&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    trigger_error(<span class="string">"变量值必须小于等于 1"</span>,E_USER_WARNING);</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Error: </span>[512] 变量值必须小于等于 1</span><br><span class="line">脚本结束</span><br></pre></td></tr></table></figure></p><h2 id="错误记录"><a href="#错误记录" class="headerlink" title="错误记录"></a>错误记录</h2><p>默认的情况下，根据php.ini中的error_log配置，向服务器的记录系统或文件发送错误记录。通过error_log()函数，可以向指定的文件或远程目的地发送错误记录</p><h2 id="通过E-Mail发送错误消息"><a href="#通过E-Mail发送错误消息" class="headerlink" title="通过E-Mail发送错误消息"></a>通过E-Mail发送错误消息</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 错误处理函数</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">customError</span><span class="params">($errno, $errstr)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"&lt;b&gt;Error:&lt;/b&gt; [$errno] $errstr&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"已通知网站管理员"</span>;</span></span><br><span class="line"><span class="php">    error_log(<span class="string">"Error: [$errno] $errstr"</span>,<span class="number">1</span>,</span></span><br><span class="line"><span class="php">    <span class="string">"someone@example.com"</span>,<span class="string">"From: webmaster@example.com"</span>);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 设置错误处理函数</span></span></span><br><span class="line"><span class="php">set_error_handler(<span class="string">"customError"</span>,E_USER_WARNING);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 触发错误</span></span></span><br><span class="line"><span class="php">$test=<span class="number">2</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($test&gt;<span class="number">1</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    trigger_error(<span class="string">"变量值必须小于等于 1"</span>,E_USER_WARNING);</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Error: </span>[512] 变量值必须小于等于 1</span><br><span class="line">已通知网站管理员</span><br></pre></td></tr></table></figure><br>接收自以上代码地邮件如下所示<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Error: </span>[512] 变量值必须小于等于 1</span><br></pre></td></tr></table></figure><br>这个方法不适合所有的错误。常规错误应当通过使用默认的 PHP 记录系统在服务器上进行记录</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.直接使用die()函数来在遇到错误时终结程序运行，往往有时候是不太好的</p><p>2.set_error_handler() 仅需要一个参数，可以添加第二个参数来规定错误级别</p><p>3.触发错误使用trigger_error()函数来进行触发</p><p>4.set_error_handler(error_handler,error_type)其中error_handler是必须的，并且要与错误处理函数名称保持一致，error_type是可选项，可以设置错误级别</p><p>5.通过使用 error_log() 函数，您可以向指定的文件或远程目的地发送错误记录</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;error&quot;&gt;&lt;a href=&quot;#error&quot; class=&quot;headerlink&quot; title=&quot;error&quot;&gt;&lt;/a&gt;error&lt;/h1&gt;&lt;p&gt;在PHP中，默认的错误处理很简单。一条错误消息会被发送到浏览器，这条消息带有文件名、行号以及描述错误的消息&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/15-学习日记</title>
    <link href="http://yoursite.com/2020/07/15/PHP-2020-7-15-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/15/PHP-2020-7-15-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-15T12:24:27.000Z</published>
    <updated>2020-07-15T12:44:22.588Z</updated>
    
    <content type="html"><![CDATA[<h1 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h1><p>PHP允许直接从脚本发送电子邮件</p><h2 id="mail-函数"><a href="#mail-函数" class="headerlink" title="mail()函数"></a>mail()函数</h2><p>mail()函数用于从脚本中发送电子邮件</p><p>语法<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">mail</span><span class="params">(to,subject,message,headers,parameters)</span></span></span><br></pre></td></tr></table></figure><br>参数 | 描述</p><ul><li>| -<br>to | 必需。规定email接收者<br>subject | 必需。规定email的主题。注释：该参数不能包含任何新行字符<br>message | 必需。定义要发送的信息。应使用LF(\n)来分隔隔行。每行限制在70个字符内<br>headers | 可选。规定附加的标题，比如From、Cc和Bcc。应当使用CRLF(\r\n)分隔附加的标题<br>parameters | 可选。对邮件发送程序规定额外的参数</li></ul><h2 id="简易E-Mail"><a href="#简易E-Mail" class="headerlink" title="简易E-Mail"></a>简易E-Mail</h2><p>通过PHP发送电子邮件的最简单的方法是发送文本email</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$to = <span class="string">"someone@example.com"</span>;         <span class="comment">// 邮件接收者</span></span></span><br><span class="line"><span class="php">$subject = <span class="string">"Test"</span>;                <span class="comment">// 邮件标题</span></span></span><br><span class="line"><span class="php">$message = <span class="string">"Hello! 这是邮件的内容。"</span>;  <span class="comment">// 邮件正文</span></span></span><br><span class="line"><span class="php">$from = <span class="string">"someonelse@example.com"</span>;   <span class="comment">// 邮件发送者</span></span></span><br><span class="line"><span class="php">$headers = <span class="string">"From:"</span> . $from;         <span class="comment">// 头部信息设置</span></span></span><br><span class="line"><span class="php">mail($to,$subject,$message,$headers);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"邮件已发送"</span>;</span></span><br></pre></td></tr></table></figure><h2 id="Mail表单"><a href="#Mail表单" class="headerlink" title="Mail表单"></a>Mail表单</h2><p>通过PHP，可以在站点下制作一个反馈表单。下面的实例向指定的e-mail地址发送一条文本消息<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (<span class="keyword">isset</span>($_REQUEST[<span class="string">'email'</span>])) &#123; <span class="comment">// 如果接收到邮箱参数则发送邮件</span></span></span><br><span class="line"><span class="php">    <span class="comment">// 发送邮件</span></span></span><br><span class="line"><span class="php">    $email = $_REQUEST[<span class="string">'email'</span>] ;</span></span><br><span class="line"><span class="php">    $subject = $_REQUEST[<span class="string">'subject'</span>] ;</span></span><br><span class="line"><span class="php">    $message = $_REQUEST[<span class="string">'message'</span>] ;</span></span><br><span class="line"><span class="php">    mail(<span class="string">"someone@example.com"</span>, $subject,</span></span><br><span class="line"><span class="php">    $message, <span class="string">"From:"</span> . $email);</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"邮件发送成功"</span>;</span></span><br><span class="line"><span class="php">&#125; <span class="keyword">else</span> &#123; <span class="comment">// 如果没有邮箱参数则显示表单</span></span></span><br><span class="line">    echo "&lt;form method='post' action='mailform.php'&gt;</span><br><span class="line">    Email: &lt;input name='email' type='text'&gt;&lt;br&gt;</span><br><span class="line">    Subject: &lt;input name='subject' type='text'&gt;&lt;br&gt;</span><br><span class="line">    Message:&lt;br&gt;</span><br><span class="line">    &lt;textarea name='message' rows='15' cols='40'&gt;</span><br><span class="line">    &lt;/textarea&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type='submit'&gt;</span><br><span class="line"><span class="php">    &lt;/form&gt;<span class="string">";</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>首先，检查是否填写了邮件输入框</li><li>如果未填写，输出HTML表单</li><li>如果已填写，从表单发送电子邮件</li><li>当填写完表单点击提交按钮后，页面重新载入，可以看到邮件输入被重置，同时显示邮件发送成功的消息</li></ul><p>更多mail()函数信息可以参考手册<br><a href="https://www.runoob.com/php/php-ref-mail.html" target="_blank" rel="noopener">https://www.runoob.com/php/php-ref-mail.html</a></p><h2 id="E-mail注入"><a href="#E-mail注入" class="headerlink" title="E-mail注入"></a>E-mail注入</h2><p>就在上面的例子中，其实是存在安全问题</p><p>上面代码存在的问题是：未经授权的用户可以通过输入表单在邮件头部插入数据</p><p>例如插入<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">someone@</span>example.com%<span class="number">0</span>ACc:<span class="symbol">person2@</span>example.com</span><br><span class="line">%<span class="number">0</span>ABcc:<span class="symbol">person3@</span>example.com,<span class="symbol">person3@</span>example.com,</span><br><span class="line"><span class="symbol">anotherperson4@</span>example.com,<span class="symbol">person5@</span>example.com</span><br><span class="line">%<span class="number">0</span>ABTo:<span class="symbol">person6@</span>example.com</span><br></pre></td></tr></table></figure><br>由于是正常语法，mail()函数会把上面的文本放入邮件头部，现在头部就有了额外的Cc: Bcc: To:字段。当用户点击提交时便会发送到上面所有的地址</p><h2 id="防止E-mail注入"><a href="#防止E-mail注入" class="headerlink" title="防止E-mail注入"></a>防止E-mail注入</h2><p>防止最好的方法就是对输入的内容进行验证</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">spamcheck</span><span class="params">($field)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// filter_var() 过滤 e-mail</span></span></span><br><span class="line"><span class="php">    <span class="comment">// 使用 FILTER_SANITIZE_EMAIL</span></span></span><br><span class="line"><span class="php">    $field=filter_var($field, FILTER_SANITIZE_EMAIL);</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">//filter_var() 过滤 e-mail</span></span></span><br><span class="line"><span class="php">    <span class="comment">// 使用 FILTER_VALIDATE_EMAIL</span></span></span><br><span class="line"><span class="php">    <span class="keyword">if</span>(filter_var($field, FILTER_VALIDATE_EMAIL))</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="keyword">TRUE</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">else</span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="keyword">FALSE</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">if</span> (<span class="keyword">isset</span>($_REQUEST[<span class="string">'email'</span>]))</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 如果接收到邮箱参数则发送邮件</span></span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 判断邮箱是否合法</span></span></span><br><span class="line"><span class="php">    $mailcheck = spamcheck($_REQUEST[<span class="string">'email'</span>]);</span></span><br><span class="line"><span class="php">    <span class="keyword">if</span> ($mailcheck==<span class="keyword">FALSE</span>)</span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"非法输入"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    <span class="keyword">else</span></span></span><br><span class="line"><span class="php">    &#123;    </span></span><br><span class="line"><span class="php">        <span class="comment">// 发送邮件</span></span></span><br><span class="line"><span class="php">        $email = $_REQUEST[<span class="string">'email'</span>] ;</span></span><br><span class="line"><span class="php">        $subject = $_REQUEST[<span class="string">'subject'</span>] ;</span></span><br><span class="line"><span class="php">        $message = $_REQUEST[<span class="string">'message'</span>] ;</span></span><br><span class="line"><span class="php">        mail(<span class="string">"someone@example.com"</span>, <span class="string">"Subject: $subject"</span>,</span></span><br><span class="line"><span class="php">        $message, <span class="string">"From: $email"</span> );</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"Thank you for using our mail form"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">else</span></span></span><br><span class="line"><span class="php">&#123; </span></span><br><span class="line"><span class="php">    <span class="comment">// 如果没有邮箱参数则显示表单</span></span></span><br><span class="line">    echo "&lt;form method='post' action='mailform.php'&gt;</span><br><span class="line">    Email: &lt;input name='email' type='text'&gt;&lt;br&gt;</span><br><span class="line">    Subject: &lt;input name='subject' type='text'&gt;&lt;br&gt;</span><br><span class="line">    Message:&lt;br&gt;</span><br><span class="line">    &lt;textarea name='message' rows='15' cols='40'&gt;</span><br><span class="line">    &lt;/textarea&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type='submit'&gt;</span><br><span class="line"><span class="php">    &lt;/form&gt;<span class="string">";</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上面这个例子使用了过滤器来对输入进行验证</p><ul><li>FILTER_SANITIZE_EMAIL 过滤器从字符串中删除电子邮件的非法字符</li><li>FILTER_VALIDATE_EMAIL 过滤器验证电子邮件地址的值</li><li>filter_var()通过指定的过滤器过滤，语法为<code>filter_var(variable, filter, options)</code>;如果成功，则返回已过滤的数据，如果失败，则返回 false</li></ul><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.电子邮件的发送使用mail()函数进行，可以事先定义好相关变量，必要的变量是to：接收者 subject：主题 message：发送的消息，发送者一般使用from变量 并添加在headers中</p><p>2.也可以使用表单来发送e-mail</p><p>3.编写e-mail表单时，要注意使用过滤器验证用户输入的合法性，不能过分相信用户输入，避免出现安全问题</p><p>4.常见的e-mail过滤器为<code>FILTER_SANITIZE_EMAIL</code> 过滤器从字符串中删除电子邮件的非法字符<br><code>FILTER_VALIDATE_EMAIL</code> 过滤器验证电子邮件地址的值<br>使用filter_var()函数来进行过滤</p><p>5.具体关于Filter的内容可以参考手册<a href="https://www.runoob.com/php/php-filter.html，后面会学到" target="_blank" rel="noopener">https://www.runoob.com/php/php-filter.html，后面会学到</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;电子邮件&quot;&gt;&lt;a href=&quot;#电子邮件&quot; class=&quot;headerlink&quot; title=&quot;电子邮件&quot;&gt;&lt;/a&gt;电子邮件&lt;/h1&gt;&lt;p&gt;PHP允许直接从脚本发送电子邮件&lt;/p&gt;
&lt;h2 id=&quot;mail-函数&quot;&gt;&lt;a href=&quot;#mail-函数&quot; class
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/14-学习日记</title>
    <link href="http://yoursite.com/2020/07/14/PHP-2020-7-14-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/14/PHP-2020-7-14-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-14T12:57:04.000Z</published>
    <updated>2020-07-14T13:07:33.846Z</updated>
    
    <content type="html"><![CDATA[<h1 id="session"><a href="#session" class="headerlink" title="session"></a>session</h1><p>PHP session变量用于存储关于用户会话(session)的信息，或者更改用户会话(session)的设置。Session变量存储单一用户的信息，并且对于应用程序中的所有页面都是可用的</p><h2 id="session变量"><a href="#session变量" class="headerlink" title="session变量"></a>session变量</h2><p>当在计算机上操作某个应用程序(打开，修改，关闭)。这就很想一次会话(session)。计算机知道你是谁，何时打开和关闭程序。但是当网络出现问题时，HTTP地址就无法保持状态，Web服务器就不知道你是谁和干了什么</p><p>session就是为了解决这个问题而存储在服务器上的用户信息，方便用户使用而产生的</p><p>session的工作机制是为每一个访客创建一个唯一的id,基于这个UID来存储变量，UID存储到cookie中，或通过URL传导</p><h2 id="启动session"><a href="#启动session" class="headerlink" title="启动session"></a>启动session</h2><p>在存储到session之前，必须启动会话</p><p>session_start()函数必须位于<code>&lt;html&gt;</code>标签之前</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> session_start(); <span class="meta">?&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>该代码会向服务器注册用户的会话，以便可以开始保存用户信息，同时会分配一个UID</p><h2 id="存储session变量"><a href="#存储session变量" class="headerlink" title="存储session变量"></a>存储session变量</h2><p>存储和取回session变量是使用$_SESSION变量<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">session_start();</span></span><br><span class="line"><span class="php"><span class="comment">// 存储 session 数据</span></span></span><br><span class="line"><span class="php">$_SESSION[<span class="string">'views'</span>]=<span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 检索 session 数据</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"浏览量："</span>. $_SESSION[<span class="string">'views'</span>];</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">浏览量：<span class="number">1</span></span><br></pre></td></tr></table></figure></p><h2 id="销毁session"><a href="#销毁session" class="headerlink" title="销毁session"></a>销毁session</h2><p>希望删除某些session变量，可以使用unset()或session_destroy()函数</p><p>unset()函数用于释放指定的session变量<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">session_start();</span></span><br><span class="line"><span class="php"><span class="keyword">if</span>(<span class="keyword">isset</span>($_SESSION[<span class="string">'views'</span>]))</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">unset</span>($_SESSION[<span class="string">'views'</span>]);</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>也可以通过调用session_destroy()函数彻底销毁session<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_destroy();</span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.使用session前，需要在<code>&lt;html&gt;</code>标签之前使用session_start()函数</p><p>2.使用session_start()函数之后，服务器便会注册用户的会话，并开始保存用户信息，同时会分配UID</p><p>3.存储session变量使用$_SESSION直接创建和赋值</p><p>4.unset()可以销毁指定的session变量，而调用session_destroy()便会失去所有已存储的session数据</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;session&quot;&gt;&lt;a href=&quot;#session&quot; class=&quot;headerlink&quot; title=&quot;session&quot;&gt;&lt;/a&gt;session&lt;/h1&gt;&lt;p&gt;PHP session变量用于存储关于用户会话(session)的信息，或者更改用户会话(sessi
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/13-学习日记</title>
    <link href="http://yoursite.com/2020/07/13/PHP-2020-7-13-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/13/PHP-2020-7-13-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-13T13:11:56.000Z</published>
    <updated>2020-07-13T13:27:57.025Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h1><p>常用于识别用户</p><h2 id="Cookie是什么"><a href="#Cookie是什么" class="headerlink" title="Cookie是什么"></a>Cookie是什么</h2><p>cookie常用于识别用户。cookie是一种服务器留在用户计算机上的小文件。每当同一台计算机通过浏览器请求页面时，这台计算机将会发送cookie,通过PHP，可以创建并取回cookie的值</p><h2 id="创建Cookie"><a href="#创建Cookie" class="headerlink" title="创建Cookie"></a>创建Cookie</h2><p>setcookie()函数用于设置cookie</p><p>setcookie()函数必须位于<code>&lt;html&gt;</code>标签之前</p><p>语法<br><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setcookie(<span class="type">name</span>, <span class="keyword">value</span>, expire, <span class="type">path</span>, <span class="keyword">domain</span>);</span><br></pre></td></tr></table></figure></p><p>实例1<br>创建名为user的cookie,并为它赋值runoob。我们也规定了此cookie再一小时后过期<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">setcookie(<span class="string">"user"</span>, <span class="string">"runoob"</span>, time()+<span class="number">3600</span>);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>在发送cookie时，cookie的值会自动进行URL编码，在取回时自动解码(为了防止URL编码，请使用setrawcookie()取而代之）</p><p>实例2<br>您还可以通过另一种方式设置cookie的过期时间<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$expire=time()+<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>*<span class="number">30</span>;</span></span><br><span class="line"><span class="php">setcookie(<span class="string">"user"</span>, <span class="string">"runoob"</span>, $expire);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>这个例子过期时间被设置为(60秒*60分*24小时*30天），也就是1个月</p><h2 id="取回Cookie值"><a href="#取回Cookie值" class="headerlink" title="取回Cookie值"></a>取回Cookie值</h2><p>PHP的$_COOKIE变量用于取回cookie的值</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 输出 cookie 值</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_COOKIE[<span class="string">"user"</span>];</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 查看所有 cookie</span></span></span><br><span class="line"><span class="php">print_r($_COOKIE);</span></span><br></pre></td></tr></table></figure><p>取回cookie名为user</p><p>还可以用isset()函数来确认是否已设置cookie<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">if</span> (<span class="keyword">isset</span>($_COOKIE[<span class="string">"user"</span>]))</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"欢迎 "</span> . $_COOKIE[<span class="string">"user"</span>] . <span class="string">"!&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">else</span></span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"普通访客!&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="删除Cookie"><a href="#删除Cookie" class="headerlink" title="删除Cookie"></a>删除Cookie</h2><p>当删除cookie时，应当使过期日期变为过去的时间点<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 设置 cookie 过期时间为过去 1 小时</span></span></span><br><span class="line"><span class="php">setcookie(<span class="string">"user"</span>, <span class="string">""</span>, time()<span class="number">-3600</span>);</span></span><br></pre></td></tr></table></figure></p><h2 id="浏览器不支持Cookie"><a href="#浏览器不支持Cookie" class="headerlink" title="浏览器不支持Cookie"></a>浏览器不支持Cookie</h2><p>如果有些应用程序需要与不支持cookie的浏览器打交道，那么不得不使用其他方法在应用程序中的页面之间传递信息了</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"welcome.php"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">名字: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line">年龄: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当点击submit按钮时，便向welcome.php提交了输入</p><p>welcome.php<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">欢迎 <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_POST[<span class="string">"name"</span>]; <span class="meta">?&gt;</span></span>.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">你 <span class="php"><span class="meta">&lt;?php</span> <span class="keyword">echo</span> $_POST[<span class="string">"age"</span>]; <span class="meta">?&gt;</span></span> 岁了。</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.setcookie()函数必须位于<code>&lt;html&gt;</code>标签之前</p><p>2.如果不想让cookie被URL编码，可以用setrawcookie()函数取代</p><p>3.setcookie()中的expire是以秒为单位设置时间的</p><p>4.想要删除cookie，依旧用setcookie()函数，区别就是让它变为过去的时间点</p><p>5.不能是用cookie的浏览器，就可以通过表单的方式来让信息在应用程序的页面之间传递</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Cookie&quot;&gt;&lt;a href=&quot;#Cookie&quot; class=&quot;headerlink&quot; title=&quot;Cookie&quot;&gt;&lt;/a&gt;Cookie&lt;/h1&gt;&lt;p&gt;常用于识别用户&lt;/p&gt;
&lt;h2 id=&quot;Cookie是什么&quot;&gt;&lt;a href=&quot;#Cookie是什么&quot; cl
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/12-学习日记</title>
    <link href="http://yoursite.com/2020/07/12/PHP-2020-7-12-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/12/PHP-2020-7-12-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-12T11:27:41.000Z</published>
    <updated>2020-07-12T11:43:36.093Z</updated>
    
    <content type="html"><![CDATA[<h1 id="包含文件"><a href="#包含文件" class="headerlink" title="包含文件"></a>包含文件</h1><h2 id="include和require"><a href="#include和require" class="headerlink" title="include和require"></a>include和require</h2><p>在PHP中，可以在服务器执行PHP文件之前插入一个文件的内容</p><p>include和require除了处理错误的方式不同之外，在其他方向都是相同的</p><ul><li>require 生成一个致命错误，错误发生后会停止执行</li><li>include 生产一个警告，在错误发生后会继续执行</li></ul><p>如果希望不影响文件执行，推荐使用include</p><p>语法<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="string">'filename'</span>;</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">'filename'</span>;</span><br></pre></td></tr></table></figure></p><h1 id="include和require-1"><a href="#include和require-1" class="headerlink" title="include和require"></a>include和require</h1><p>如果你有一个名为header.php，想在页面中引用这个页头文件，就可以使用include/require<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'header.php'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎来到我的主页!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一些文本。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>如果想在所有页面中使用标准菜单文件<br>menu.php<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo '<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>主页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/html"</span>&gt;</span>HTML 教程<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/php"</span>&gt;</span>PHP 教程<span class="tag">&lt;/<span class="name">a</span>&gt;</span>';</span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>菜鸟教程(runoob.com)<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"leftmenu"</span>&gt;</span></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">include</span> <span class="string">'menu.php'</span>; <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>欢迎来到我的主页!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>一些文本。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><p>PHP中使用fopen()函数打开文件</p><h2 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h2><p>使用fopen()即可，第一种参数是打开文件的名称，第二个参数规定了使用哪种模式来打开<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$file=fopen(<span class="string">"welcome.txt"</span>,<span class="string">"r"</span>);</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure><br>模式 | 描述<br>-|-<br>r | 只读。在文件开头开始<br>r+ | 读/写。在文件开头开始<br>w | 只写。打开并清空文件内容;文件不存在则创建文件<br>w+ | 读/写。打开并清空文件内容;文件不存在则创建文件<br>a | 追加。打开并向文件末尾进行写操作，如果不存在则创建文件<br>a+ | 读/追加。通过向文件末尾写内容，来保持文件内容<br>x | 只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误<br>x+ | 读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误</p><h2 id="关闭文件"><a href="#关闭文件" class="headerlink" title="关闭文件"></a>关闭文件</h2><p>fclose()函数用于关闭打开的文件<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file = <span class="keyword">fopen</span>(<span class="string">"test.txt"</span>,<span class="string">"r"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//执行一些代码</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fclose</span>($file);</span><br></pre></td></tr></table></figure></p><h2 id="检测文件末尾-EOF"><a href="#检测文件末尾-EOF" class="headerlink" title="检测文件末尾(EOF)"></a>检测文件末尾(EOF)</h2><p>feof()函数检测是否已到达文件末尾EOF</p><p>在循环遍历未知长度的数据时，feof()函数很有用<br><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (<span class="name">feof</span>($file)) echo <span class="string">"文件结尾"</span><span class="comment">;</span></span><br></pre></td></tr></table></figure></p><h2 id="逐行读取文件"><a href="#逐行读取文件" class="headerlink" title="逐行读取文件"></a>逐行读取文件</h2><p>fgets()函数用于从文件中逐行读取文件</p><p>再调用该函数之后，文件指针会移动到下一行</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$file</span> = fopen(<span class="string">"welcome.txt"</span>, <span class="string">"r"</span>) or <span class="keyword">exit</span>(<span class="string">"无法打开文件!"</span>);</span><br><span class="line"><span class="regexp">//</span> 读取文件每一行，直到文件结尾</span><br><span class="line"><span class="keyword">while</span>(!feof(<span class="variable">$file</span>))</span><br><span class="line">&#123;</span><br><span class="line">    echo fgets(<span class="variable">$file</span>). <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line">fclose(<span class="variable">$file</span>);</span><br></pre></td></tr></table></figure><h2 id="逐行字符读取文件"><a href="#逐行字符读取文件" class="headerlink" title="逐行字符读取文件"></a>逐行字符读取文件</h2><p>fgetc()函数用于从文件中逐字符的读取文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$file</span>=fopen(<span class="string">"welcome.txt"</span>,<span class="string">"r"</span>) or <span class="keyword">exit</span>(<span class="string">"无法打开文件!"</span>);</span><br><span class="line"><span class="keyword">while</span> (!feof(<span class="variable">$file</span>))</span><br><span class="line">&#123;</span><br><span class="line">    echo fgetc(<span class="variable">$file</span>);</span><br><span class="line">&#125;</span><br><span class="line">fclose(<span class="variable">$file</span>);</span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.推荐直接使用include包含，如果包含文件出现错误，也不会影响所在文件的正常运行，而require包含则会终止运行</p><p>2.文件读取不知道读取文件的行数时，使用feof()函数来参与循环，以实现全部读取</p><p>3.fgets()和fgetc()函数用法差不多，前者直接读取完整一行，后者则是一个字一个字的读取</p><p>4.fopen中常用的参数就是r r+ w w+ 其他不常用，了解就行</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;包含文件&quot;&gt;&lt;a href=&quot;#包含文件&quot; class=&quot;headerlink&quot; title=&quot;包含文件&quot;&gt;&lt;/a&gt;包含文件&lt;/h1&gt;&lt;h2 id=&quot;include和require&quot;&gt;&lt;a href=&quot;#include和require&quot; class=&quot;header
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/11-学习日记</title>
    <link href="http://yoursite.com/2020/07/12/PHP-2020-7-11-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/12/PHP-2020-7-11-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-12T11:05:44.000Z</published>
    <updated>2020-07-12T11:27:02.870Z</updated>
    
    <content type="html"><![CDATA[<h1 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h1><p>一个数组中的值可以是另一个数组</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="comment">// 二维数组:</span></span><br><span class="line">$cars = <span class="built_in">array</span></span><br><span class="line">(</span><br><span class="line">    <span class="built_in">array</span>(<span class="string">"Volvo"</span>,<span class="number">100</span>,<span class="number">96</span>),</span><br><span class="line">    <span class="built_in">array</span>(<span class="string">"BMW"</span>,<span class="number">60</span>,<span class="number">59</span>),</span><br><span class="line">    <span class="built_in">array</span>(<span class="string">"Toyota"</span>,<span class="number">110</span>,<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line">print_r($cars);</span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Volvo</span><br><span class="line">            [<span class="number">1</span>] =&gt; <span class="number">100</span></span><br><span class="line">            [<span class="number">2</span>] =&gt; <span class="number">96</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">1</span>] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; BMW</span><br><span class="line">            [<span class="number">1</span>] =&gt; <span class="number">60</span></span><br><span class="line">            [<span class="number">2</span>] =&gt; <span class="number">59</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [<span class="number">2</span>] =&gt; Array</span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Toyota</span><br><span class="line">            [<span class="number">1</span>] =&gt; <span class="number">110</span></span><br><span class="line">            [<span class="number">2</span>] =&gt; <span class="number">100</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>多维数组是包含一个或多个数组的数组</p><p>在多维数组中，主数组中的每一个元素也可以是一个数组，子数组中的每一个元素也可以是一个数组</p><p>自动分配ID键的多维数组<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$sites = <span class="keyword">array</span></span></span><br><span class="line"><span class="php">(</span></span><br><span class="line"><span class="php">    <span class="string">"runoob"</span>=&gt;<span class="keyword">array</span></span></span><br><span class="line"><span class="php">    (</span></span><br><span class="line"><span class="php">        <span class="string">"菜鸟教程"</span>,</span></span><br><span class="line"><span class="php">        <span class="string">"http://www.runoob.com"</span></span></span><br><span class="line"><span class="php">    ),</span></span><br><span class="line"><span class="php">    <span class="string">"google"</span>=&gt;<span class="keyword">array</span></span></span><br><span class="line"><span class="php">    (</span></span><br><span class="line"><span class="php">        <span class="string">"Google 搜索"</span>,</span></span><br><span class="line"><span class="php">        <span class="string">"http://www.google.com"</span></span></span><br><span class="line"><span class="php">    ),</span></span><br><span class="line"><span class="php">    <span class="string">"taobao"</span>=&gt;<span class="keyword">array</span></span></span><br><span class="line"><span class="php">    (</span></span><br><span class="line"><span class="php">        <span class="string">"淘宝"</span>,</span></span><br><span class="line"><span class="php">        <span class="string">"http://www.taobao.com"</span></span></span><br><span class="line"><span class="php">    )</span></span><br><span class="line"><span class="php">);</span></span><br><span class="line"><span class="php">print_r($sites);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [runoob] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; 菜鸟教程</span><br><span class="line">            [<span class="number">1</span>] =&gt; http:<span class="comment">//www.runoob.com</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [google] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; Google 搜索</span><br><span class="line">            [<span class="number">1</span>] =&gt; http:<span class="comment">//www.google.com</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    [taobao] =&gt; <span class="keyword">Array</span></span><br><span class="line">        (</span><br><span class="line">            [<span class="number">0</span>] =&gt; 淘宝</span><br><span class="line">            [<span class="number">1</span>] =&gt; http:<span class="comment">//www.taobao.com</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>如果想要获得某个值，也很简单<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $sites[<span class="string">'taobao'</span>][<span class="symbol">0</span>]."地址请".$sites[<span class="string">'google'</span>][<span class="symbol">0</span>];</span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">淘宝地址请Google 搜索</span><br></pre></td></tr></table></figure></p><h1 id="日期"><a href="#日期" class="headerlink" title="日期"></a>日期</h1><h2 id="data-函数"><a href="#data-函数" class="headerlink" title="data()函数"></a>data()函数</h2><p>PHP中使用data()函数把时间戳格式化为可读性更好的日期和时间</p><p>语法<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> <span class="keyword">date</span> ( <span class="keyword">string</span> $format [, <span class="keyword">int</span> $timestamp ] )</span><br></pre></td></tr></table></figure><br>其中format是必须存在的，timestamp是可选的，规定时间戳</p><h2 id="格式化日期"><a href="#格式化日期" class="headerlink" title="格式化日期"></a>格式化日期</h2><p>data()函数中的第一个参数format规定了如何格式化日期和时间</p><ul><li>d 代表天</li><li>m 代表月份</li><li>Y 代表年(四位数)</li></ul><p>还可以插入/,-之类的字符来增加可读性</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">date</span>(<span class="string">"Y/m/d"</span>) . <span class="string">"\n"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">date</span>(<span class="string">"Y.m.d"</span>) . <span class="string">"\n"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">date</span>(<span class="string">"Y-m-d"</span>);</span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2020</span>/<span class="number">07</span>/<span class="number">12</span></span><br><span class="line"><span class="number">2020.07</span><span class="number">.12</span></span><br><span class="line"><span class="number">2020</span><span class="number">-07</span><span class="number">-12</span></span><br></pre></td></tr></table></figure></p><div class="table-container"><table><thead><tr><th>format</th><th>说明</th><th>返回值例子</th></tr></thead><tbody><tr><td>d</td><td>月份中的第几天</td><td>01到31</td></tr><tr><td>D</td><td>星期中的第几天</td><td>Mon到Sun</td></tr><tr><td>j</td><td>月份中的第几天，无前导零</td><td>1到31</td></tr><tr><td>l</td><td>星期几 完整格式</td><td>Sunday到Saturday</td></tr><tr><td>w</td><td>星期几 数字表示</td><td>0到6</td></tr><tr><td>z</td><td>年份中的第几天</td><td>0到356</td></tr><tr><td>F</td><td>月份，完整格式</td><td>January到December</td></tr><tr><td>m</td><td>数字表示月份</td><td>01到12</td></tr><tr><td>M</td><td>三个字母缩写月份</td><td>Jan到Dec</td></tr><tr><td>n</td><td>数字表示月份 无前置</td><td>1到12</td></tr><tr><td>Y</td><td>4位数字完整年份</td><td>1999或2003</td></tr><tr><td>y</td><td>2位数字表示年份</td><td>99或03</td></tr><tr><td>g</td><td>小时，12小时 无前置</td><td>1到12</td></tr><tr><td>G</td><td>小时 24小时 无前置</td><td>0到23</td></tr><tr><td>h</td><td>小时 12小时</td><td>01到12</td></tr><tr><td>H</td><td>小时 24小时</td><td>00到23</td></tr><tr><td>s</td><td>秒</td><td>00到59</td></tr></tbody></table></div><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.多维数组基本和C++相似，调用方式也一样，基本不变，参考C++即可</p><p>2.data函数的format参数是必须的，可以加上/ . -等符号来增加可读性</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;多维数组&quot;&gt;&lt;a href=&quot;#多维数组&quot; class=&quot;headerlink&quot; title=&quot;多维数组&quot;&gt;&lt;/a&gt;多维数组&lt;/h1&gt;&lt;p&gt;一个数组中的值可以是另一个数组&lt;/p&gt;
&lt;figure class=&quot;highlight angelscript&quot;&gt;&lt;tab
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/10-学习日记</title>
    <link href="http://yoursite.com/2020/07/10/PHP-2020-7-10-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/10/PHP-2020-7-10-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-10T13:03:29.000Z</published>
    <updated>2020-07-10T13:25:32.262Z</updated>
    
    <content type="html"><![CDATA[<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><p>面向对象已经很熟悉了，基本上就一句话总结，类是虚指，对象是类的实例</p><h2 id="对象内容"><a href="#对象内容" class="headerlink" title="对象内容"></a>对象内容</h2><ul><li>类 − 定义了一件事物的抽象特点。类的定义包含了数据的形式以及对数据的操作</li><li>对象 − 是类的实例</li><li>成员变量 − 定义在类内部的变量。该变量的值对外是不可见的，但是可以通过成员函数访问，在类被实例化为对象后，该变量即可称为对象的属性</li><li>成员函数 − 定义在类的内部，可用于访问对象的数据</li></ul><p>例如<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$mercedes</span> = <span class="keyword">new</span> Car ()<span class="comment">;</span></span><br><span class="line"><span class="built_in">$bmw</span> = <span class="keyword">new</span> Car ()<span class="comment">;</span></span><br><span class="line"><span class="built_in">$audi</span> = <span class="keyword">new</span> Car ()<span class="comment">;</span></span><br></pre></td></tr></table></figure></p><h2 id="类定义"><a href="#类定义" class="headerlink" title="类定义"></a>类定义</h2><p>定义类通常语法格式如下:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">phpClass</span> </span>&#123;</span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $var1;</span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $var2 = <span class="string">"constant string"</span>;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">myfunc</span> <span class="params">($arg1, $arg2)</span> </span>&#123;</span></span><br><span class="line"><span class="php">     [..]</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  [..]</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>类使用class关键字后加上类名定义</p><p>类名后的一对大括号内可以定义变量和方法</p><p>类的变量使用var来声明，也可以直接初始化值</p><p>函数定义不变，但是函数只能通过实例化的类来使用</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Site</span> </span>&#123;</span></span><br><span class="line"><span class="php">  <span class="comment">/* 成员变量 */</span></span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $url;</span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $title;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="comment">/* 成员函数 */</span></span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">setUrl</span><span class="params">($par)</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">$this</span>-&gt;url = $par;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">getUrl</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;url . PHP_EOL;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">setTitle</span><span class="params">($par)</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">$this</span>-&gt;title = $par;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">getTitle</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;title . PHP_EOL;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>$this 代表自身的对象</li><li>PHP_EOL为换行符</li></ul><h2 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h2><p>创建对象使用new关键字来实例化<br><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$ru</span>noob = <span class="keyword">new</span> Site;</span><br><span class="line"><span class="symbol">$tao</span>bao = <span class="keyword">new</span> Site;</span><br><span class="line"><span class="symbol">$google</span> = <span class="keyword">new</span> Site;</span><br></pre></td></tr></table></figure></p><h3 id="调用成员方法"><a href="#调用成员方法" class="headerlink" title="调用成员方法"></a>调用成员方法</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 调用成员函数，设置标题和URL</span></span><br><span class="line">$runoob-&gt;setTitle( <span class="string">"菜鸟教程"</span> );</span><br><span class="line">$taobao-&gt;setTitle( <span class="string">"淘宝"</span> );</span><br><span class="line">$google-&gt;setTitle( <span class="string">"Google 搜索"</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用成员函数，获取标题和URL</span></span><br><span class="line">$runoob-&gt;getTitle();</span><br><span class="line">$taobao-&gt;getTitle();</span><br><span class="line">$google-&gt;getTitle();</span><br></pre></td></tr></table></figure><p>完整演示<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Site</span> </span>&#123;</span></span><br><span class="line"><span class="php">  <span class="comment">/* 成员变量 */</span></span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $url;</span></span><br><span class="line"><span class="php">  <span class="keyword">var</span> $title;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="comment">/* 成员函数 */</span></span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">setUrl</span><span class="params">($par)</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">$this</span>-&gt;url = $par;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">getUrl</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;url . PHP_EOL;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">setTitle</span><span class="params">($par)</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">$this</span>-&gt;title = $par;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="function"><span class="keyword">function</span> <span class="title">getTitle</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;title . PHP_EOL;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$runoob = <span class="keyword">new</span> Site;</span></span><br><span class="line"><span class="php">$taobao = <span class="keyword">new</span> Site;</span></span><br><span class="line"><span class="php">$google = <span class="keyword">new</span> Site;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 调用成员函数，设置标题和URL</span></span></span><br><span class="line"><span class="php">$runoob-&gt;setTitle( <span class="string">"菜鸟教程"</span> );</span></span><br><span class="line"><span class="php">$taobao-&gt;setTitle( <span class="string">"淘宝"</span> );</span></span><br><span class="line"><span class="php">$google-&gt;setTitle( <span class="string">"Google 搜索"</span> );</span></span><br><span class="line"></span><br><span class="line"><span class="php">$runoob-&gt;setUrl( <span class="string">'www.runoob.com'</span> );</span></span><br><span class="line"><span class="php">$taobao-&gt;setUrl( <span class="string">'www.taobao.com'</span> );</span></span><br><span class="line"><span class="php">$google-&gt;setUrl( <span class="string">'www.google.com'</span> );</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 调用成员函数，获取标题和URL</span></span></span><br><span class="line"><span class="php">$runoob-&gt;getTitle();</span></span><br><span class="line"><span class="php">$taobao-&gt;getTitle();</span></span><br><span class="line"><span class="php">$google-&gt;getTitle();</span></span><br><span class="line"></span><br><span class="line"><span class="php">$runoob-&gt;getUrl();</span></span><br><span class="line"><span class="php">$taobao-&gt;getUrl();</span></span><br><span class="line"><span class="php">$google-&gt;getUrl();</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">菜鸟教程</span><br><span class="line">淘宝</span><br><span class="line"><span class="selector-tag">Google</span> 搜索</span><br><span class="line"><span class="selector-tag">www</span><span class="selector-class">.runoob</span><span class="selector-class">.com</span></span><br><span class="line"><span class="selector-tag">www</span><span class="selector-class">.taobao</span><span class="selector-class">.com</span></span><br><span class="line"><span class="selector-tag">www</span><span class="selector-class">.google</span><span class="selector-class">.com</span></span><br></pre></td></tr></table></figure></p><h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><p>使用 _construct(mixed $args[,$…])来定义构造函数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">( $par1, $par2 )</span> </span>&#123;</span><br><span class="line">   <span class="keyword">$this</span>-&gt;url = $par1;</span><br><span class="line">   <span class="keyword">$this</span>-&gt;title = $par2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用法与C++一样</p><h2 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h2><p>使用_destructor来定义析构函数<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyDestructableClass</span> </span>&#123;</span></span><br><span class="line"><span class="php">   <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">       <span class="keyword">print</span> <span class="string">"构造函数\n"</span>;</span></span><br><span class="line"><span class="php">       <span class="keyword">$this</span>-&gt;name = <span class="string">"MyDestructableClass"</span>;</span></span><br><span class="line"><span class="php">   &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">   <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">       <span class="keyword">print</span> <span class="string">"销毁 "</span> . <span class="keyword">$this</span>-&gt;name . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">   &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> MyDestructableClass();</span></span><br></pre></td></tr></table></figure><br>析构函数如果没有特别操作可以不写，系统会自动调用终结对象生命周期</p><h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>使用extends关键字来继承一个类，PHP为单继承语言<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">   <span class="comment">// 代码部分</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>继承的类会拥有被继承类的所有函数和方法，除构造和析构函数</p><h2 id="方法重写"><a href="#方法重写" class="headerlink" title="方法重写"></a>方法重写</h2><p>如果父类继承的方法不能满足子类的需求，就可以对其进行重写，也可以称为覆盖<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;url . PHP_EOL;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;url;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTitle</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;title . PHP_EOL;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;title;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h2><p>和C++基本一直，都有三个访问控制</p><ul><li>public 公有</li><li>protected 受保护</li><li>private 私有</li></ul><h3 id="属性的访问控制"><a href="#属性的访问控制" class="headerlink" title="属性的访问控制"></a>属性的访问控制</h3><p>如果使用var定义，则默认为公有<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line">/**</span><br><span class="line"> * Define MyClass</span><br><span class="line"><span class="php"> */</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> $public = <span class="string">'Public'</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">protected</span> $protected = <span class="string">'Protected'</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">private</span> $private = <span class="string">'Private'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">printHello</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> MyClass();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj-&gt;public; <span class="comment">// 这行能被正常执行</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj-&gt;protected; <span class="comment">// 这行会产生一个致命错误</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj-&gt;private; <span class="comment">// 这行也会产生一个致命错误</span></span></span><br><span class="line"><span class="php">$obj-&gt;printHello(); <span class="comment">// 输出 Public、Protected 和 Private</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Define MyClass2</span><br><span class="line"><span class="php"> */</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 可以对 public 和 protected 进行重定义，但 private 而不能</span></span></span><br><span class="line"><span class="php">    <span class="keyword">protected</span> $protected = <span class="string">'Protected2'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">printHello</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;public;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;protected;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;private;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$obj2 = <span class="keyword">new</span> MyClass2();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj2-&gt;public; <span class="comment">// 这行能被正常执行</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj2-&gt;private; <span class="comment">// 未定义 private</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $obj2-&gt;protected; <span class="comment">// 这行会产生一个致命错误</span></span></span><br><span class="line"><span class="php">$obj2-&gt;printHello(); <span class="comment">// 输出 Public、Protected2 和 Undefined</span></span></span><br></pre></td></tr></table></figure></p><h3 id="方法的访问控制"><a href="#方法的访问控制" class="headerlink" title="方法的访问控制"></a>方法的访问控制</h3><p>方法和函数基本一致<br>没有设置关键字，则默认为公有<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line">/**</span><br><span class="line"> * Define MyClass</span><br><span class="line"><span class="php"> */</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 声明一个公有的构造函数</span></span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span> </span>&#123; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 声明一个公有的方法</span></span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPublic</span><span class="params">()</span> </span>&#123; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 声明一个受保护的方法</span></span></span><br><span class="line"><span class="php">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">MyProtected</span><span class="params">()</span> </span>&#123; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 声明一个私有的方法</span></span></span><br><span class="line"><span class="php">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">MyPrivate</span><span class="params">()</span> </span>&#123; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 此方法为公有</span></span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">Foo</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyPublic();</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyProtected();</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyPrivate();</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$myclass = <span class="keyword">new</span> MyClass;</span></span><br><span class="line"><span class="php">$myclass-&gt;MyPublic(); <span class="comment">// 这行能被正常执行</span></span></span><br><span class="line"><span class="php">$myclass-&gt;MyProtected(); <span class="comment">// 这行会产生一个致命错误</span></span></span><br><span class="line"><span class="php">$myclass-&gt;MyPrivate(); <span class="comment">// 这行会产生一个致命错误</span></span></span><br><span class="line"><span class="php">$myclass-&gt;Foo(); <span class="comment">// 公有，受保护，私有都可以执行</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Define MyClass2</span><br><span class="line"><span class="php"> */</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> <span class="keyword">extends</span> <span class="title">MyClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 此方法为公有</span></span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">Foo2</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyPublic();</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyProtected();</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;MyPrivate(); <span class="comment">// 这行会产生一个致命错误</span></span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$myclass2 = <span class="keyword">new</span> MyClass2;</span></span><br><span class="line"><span class="php">$myclass2-&gt;MyPublic(); <span class="comment">// 这行能被正常执行</span></span></span><br><span class="line"><span class="php">$myclass2-&gt;Foo2(); <span class="comment">// 公有的和受保护的都可执行，但私有的不行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> </span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;testPrivate();</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;testPublic();</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"Bar::testPublic\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    </span></span><br><span class="line"><span class="php">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"Bar::testPrivate\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> <span class="keyword">extends</span> <span class="title">Bar</span> </span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testPublic</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"Foo::testPublic\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">    </span></span><br><span class="line"><span class="php">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">testPrivate</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">"Foo::testPrivate\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$myFoo = <span class="keyword">new</span> foo();</span></span><br><span class="line"><span class="php">$myFoo-&gt;test(); <span class="comment">// Bar::testPrivate </span></span></span><br><span class="line"><span class="php">                <span class="comment">// Foo::testPublic</span></span></span><br></pre></td></tr></table></figure></p><h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>使用interface来定义接口</p><p>与定义类的方法唯一不同的就是，在接口中的所有方法都是空的，而且必须为公有的，这是接口的特性</p><p>使用implements来实现接口</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 声明一个'iTemplate'接口</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">interface</span> <span class="title">iTemplate</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setVariable</span><span class="params">($name, $var)</span></span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHtml</span><span class="params">($template)</span></span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 实现接口</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Template</span> <span class="keyword">implements</span> <span class="title">iTemplate</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">private</span> $vars = <span class="keyword">array</span>();</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setVariable</span><span class="params">($name, $var)</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">$this</span>-&gt;vars[$name] = $var;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getHtml</span><span class="params">($template)</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">foreach</span>(<span class="keyword">$this</span>-&gt;vars <span class="keyword">as</span> $name =&gt; $value) &#123;</span></span><br><span class="line"><span class="php">            $template = str_replace(<span class="string">'&#123;'</span> . $name . <span class="string">'&#125;'</span>, $value, $template);</span></span><br><span class="line"><span class="php">        &#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> $template;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><p>可以把在类中始终保持不变的值定义为常量。在定义和使用常量的时候不需要使用$符号</p><p>使用const关键字来定义常量<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">const</span> constant = <span class="string">'常量值'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">showConstant</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span>  <span class="keyword">self</span>::constant . PHP_EOL;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> MyClass::constant . PHP_EOL;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$classname = <span class="string">"MyClass"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $classname::constant . PHP_EOL; <span class="comment">// 自 5.3.0 起</span></span></span><br><span class="line"></span><br><span class="line"><span class="php">$class = <span class="keyword">new</span> MyClass();</span></span><br><span class="line"><span class="php">$class-&gt;showConstant();</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $class::constant . PHP_EOL; <span class="comment">// 自 PHP 5.3.0 起</span></span></span><br></pre></td></tr></table></figure></p><h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>使用abstract关键字来定义抽象类</p><p>抽象方法只能在抽象类中定义，抽象类中可以定义非抽象的方法</p><p>被定义为抽象类，不能实例化为对象，必须通过继承来在子类中实现方法</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php"> <span class="comment">// 强制要求子类定义这些方法</span></span></span><br><span class="line"><span class="php">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span></span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span></span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="comment">// 普通方法（非抽象方法）</span></span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">printOut</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">print</span> <span class="keyword">$this</span>-&gt;getValue() . PHP_EOL;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass1</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="string">"ConcreteClass1"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="string">"&#123;$prefix&#125;ConcreteClass1"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass2</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="string">"ConcreteClass2"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">return</span> <span class="string">"&#123;$prefix&#125;ConcreteClass2"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$class1 = <span class="keyword">new</span> ConcreteClass1;</span></span><br><span class="line"><span class="php">$class1-&gt;printOut();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $class1-&gt;prefixValue(<span class="string">'FOO_'</span>) . PHP_EOL;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$class2 = <span class="keyword">new</span> ConcreteClass2;</span></span><br><span class="line"><span class="php">$class2-&gt;printOut();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $class2-&gt;prefixValue(<span class="string">'FOO_'</span>) . PHP_EOL;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Co<span class="symbol">ncreteClass1</span></span><br><span class="line">FOO_Co<span class="symbol">ncreteClass1</span></span><br><span class="line">Co<span class="symbol">ncreteClass2</span></span><br><span class="line">FOO_Co<span class="symbol">ncreteClass2</span></span><br></pre></td></tr></table></figure></p><h2 id="static关键字"><a href="#static关键字" class="headerlink" title="static关键字"></a>static关键字</h2><p>static就是静态的，使用方法基本就与C++一致，可以直接访问不实例化类</p><p>静态属性不能通过一个类已实例化的对象来访问，静态方法可以</p><p>静态属性一旦定义，值就不可以再改变，并且生命周期只有程序结束时随着程序生命周期结束而结束</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span></span><br><span class="line"><span class="php">  <span class="keyword">public</span> <span class="keyword">static</span> $my_static = <span class="string">'foo'</span>;</span></span><br><span class="line"><span class="php">  </span></span><br><span class="line"><span class="php">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">staticValue</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">     <span class="keyword">return</span> <span class="keyword">self</span>::$my_static;</span></span><br><span class="line"><span class="php">  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">print</span> Foo::$my_static . PHP_EOL;</span></span><br><span class="line"><span class="php">$foo = <span class="keyword">new</span> Foo();</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">print</span> $foo-&gt;staticValue() . PHP_EOL;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">foo</span></span><br><span class="line"><span class="attribute">foo</span></span><br></pre></td></tr></table></figure></p><h2 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h2><p>如果父类中有方法被声明为final，则子类无法覆盖该方法</p><p>如果一个类被声明为final，则不能被继承</p><h2 id="调用父类构造方法"><a href="#调用父类构造方法" class="headerlink" title="调用父类构造方法"></a>调用父类构造方法</h2><p>要执行父类的构造方法，需要在子类的构造方法中调用<code>parent::__construct()</code></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">   function __construct() &#123;</span><br><span class="line">       print <span class="string">"BaseClass 类中构造方法"</span> . <span class="type">PHP_EOL</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">   function __construct() &#123;</span><br><span class="line">       parent::__construct();  <span class="comment">// 子类构造方法不能自动调用父类的构造方法</span></span><br><span class="line">       print <span class="string">"SubClass 类中构造方法"</span> . <span class="type">PHP_EOL</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OtherSubClass</span> <span class="keyword">extends</span> <span class="title">BaseClass</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 继承 BaseClass 的构造方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 BaseClass 构造方法</span></span><br><span class="line">$obj = <span class="keyword">new</span> <span class="type">BaseClass</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 BaseClass、SubClass 构造方法</span></span><br><span class="line">$obj = <span class="keyword">new</span> <span class="type">SubClass</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用 BaseClass 构造方法</span></span><br><span class="line">$obj = <span class="keyword">new</span> <span class="type">OtherSubClass</span>();</span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BaseClass </span>类中构造方法</span><br><span class="line"><span class="keyword">BaseClass </span>类中构造方法</span><br><span class="line"><span class="keyword">SubClass </span>类中构造方法</span><br><span class="line"><span class="keyword">BaseClass </span>类中构造方法</span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.PHP的面向对象基本与C++一致，含义也基本相同，不多说</p><p>2.调用父类的构造函数需要使用<code>parent::__construct()</code></p><p>3.静态属性一旦定义，值就不可以再改变，并且生命周期只有程序结束时随着程序生命周期结束而结束</p><p>4.PHP继承时没有访问控制之分，默认为public，继承父类中除了private的所有属性和方法</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;面向对象&quot;&gt;&lt;a href=&quot;#面向对象&quot; class=&quot;headerlink&quot; title=&quot;面向对象&quot;&gt;&lt;/a&gt;面向对象&lt;/h1&gt;&lt;p&gt;面向对象已经很熟悉了，基本上就一句话总结，类是虚指，对象是类的实例&lt;/p&gt;
&lt;h2 id=&quot;对象内容&quot;&gt;&lt;a href=&quot;#
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/9-学习日记</title>
    <link href="http://yoursite.com/2020/07/09/PHP-2020-7-9-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/09/PHP-2020-7-9-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-09T12:55:35.000Z</published>
    <updated>2020-07-09T13:18:50.191Z</updated>
    
    <content type="html"><![CDATA[<h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><p>namespace在C++里见过，use namespace std;</p><p>命名空间可以解决两类问题</p><ul><li>用户编写的代码与PHP内部的类/常量/函数或第三方类/函数/常量之间的名字冲突</li><li>为很长的标识符名称创建一个别名或简称，提高代码的可读性</li></ul><h2 id="定义命名空间"><a href="#定义命名空间" class="headerlink" title="定义命名空间"></a>定义命名空间</h2><p>默认情况下，所有常量，函数和类都放在全局空间下，就和PHP支持命名空间之前一样</p><p>命名空间使用namespace关键字来声明。如果一个文件中包含命名空间，它必须在其他所有代码之前声明命名空间</p><p>语法<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span>  </span></span><br><span class="line"><span class="php"><span class="comment">// 定义代码在 'MyProject' 命名空间中  </span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>;  </span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="comment">// ... 代码 ...</span></span></span><br></pre></td></tr></table></figure></p><p>你也可以在同一个文件中定义不同的命名空间代码<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span>  </span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">AnotherProject</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br></pre></td></tr></table></figure></p><p>这种写法一般是不建议的，所以为了提高代码的可读性，使用大括号的形式</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php">    <span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">AnotherProject</span> &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php">    <span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>将全局的非命名空间中的代码与命名空间中的代码组合在一起，只能使用大括号形式的语法。且全局代码必须用一个不带名称的namespace语句加上大括号括起来</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> &#123; // 全局代码</span></span><br><span class="line"><span class="php">session_start();</span></span><br><span class="line"><span class="php">$a = MyProject\connect();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> MyProject\Connection::start();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>在声明命名空间之前唯一合法的代码是用于定义源文件编码方式的declare语句。所有非PHP代码包括空白符都不能出现在命名空间的声明之前<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">declare</span>(encoding=<span class="string">'UTF-8'</span>); <span class="comment">//定义多个命名空间和不包含在命名空间中的代码</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span> &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> &#123; // 全局代码</span></span><br><span class="line"><span class="php">session_start();</span></span><br><span class="line"><span class="php">$a = MyProject\connect();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> MyProject\Connection::start();</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure></p><p>如果写成这样就会出现语法错误</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span> <span class="keyword">namespace</span> <span class="title">MyProject</span>; <span class="comment">// 命名空间前出现了“&lt;html&gt;” 会致命错误 -　命名空间必须是程序脚本的第一条语句</span></span></span><br></pre></td></tr></table></figure><h2 id="子命名空间"><a href="#子命名空间" class="headerlink" title="子命名空间"></a>子命名空间</h2><p>与目录和文件的关系很像，PHP命名空间也允许指定层次化的命名空间的名称。因此，命名空间的名字可以使用分层次的方式定义</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>\<span class="title">Sub</span>\<span class="title">Level</span>;  <span class="comment">//声明分层次的单个命名空间</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> CONNECT_OK = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Connection</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">Connect</span><span class="params">()</span> </span>&#123; <span class="comment">/* ... */</span>  &#125;</span></span><br></pre></td></tr></table></figure><p>类似于目录结构</p><h2 id="命名空间使用"><a href="#命名空间使用" class="headerlink" title="命名空间使用"></a>命名空间使用</h2><p>PHP命名空间中的类名可以通过三种方式引用</p><ul><li><p>非限定名称，或不包含前缀的类名称，例如$a=new foo();或foo::staticmethod();</p></li><li><p>限定名称，或包含前缀的名称，例如$a=new subnamespace\foo();或subnamespace\foo::staticmethod();</p></li><li><p>完全限定名称，或包含了全局前缀操作符的名称，例如,$a=new\currentnamespace\foo();</p></li></ul><p>下面便是三种方式的实例<br>file1.php<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">Foo</span>\<span class="title">Bar</span>\<span class="title">subnamespace</span>; </span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> FOO = <span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">foo</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">staticmethod</span><span class="params">()</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure></p><p>file2.php<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">Foo</span>\<span class="title">Bar</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">include</span> <span class="string">'file1.php'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">const</span> FOO = <span class="number">2</span>;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">foo</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">staticmethod</span><span class="params">()</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">/* 非限定名称 */</span></span></span><br><span class="line"><span class="php">foo(); <span class="comment">// 解析为函数 Foo\Bar\foo</span></span></span><br><span class="line"><span class="php">foo::staticmethod(); <span class="comment">// 解析为类 Foo\Bar\foo ，方法为 staticmethod</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> FOO; <span class="comment">// 解析为常量 Foo\Bar\FOO</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">/* 限定名称 */</span></span></span><br><span class="line"><span class="php">subnamespace\foo(); <span class="comment">// 解析为函数 Foo\Bar\subnamespace\foo</span></span></span><br><span class="line"><span class="php">subnamespace\foo::staticmethod(); <span class="comment">// 解析为类 Foo\Bar\subnamespace\foo,</span></span></span><br><span class="line"><span class="php">                                  <span class="comment">// 以及类的方法 staticmethod</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> subnamespace\FOO; <span class="comment">// 解析为常量 Foo\Bar\subnamespace\FOO</span></span></span><br><span class="line"><span class="php">                                  </span></span><br><span class="line"><span class="php"><span class="comment">/* 完全限定名称 */</span></span></span><br><span class="line"><span class="php">\Foo\Bar\foo(); <span class="comment">// 解析为函数 Foo\Bar\foo</span></span></span><br><span class="line"><span class="php">\Foo\Bar\foo::staticmethod(); <span class="comment">// 解析为类 Foo\Bar\foo, 以及类的方法 staticmethod</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> \Foo\Bar\FOO; <span class="comment">// 解析为常量 Foo\Bar\FOO</span></span></span><br></pre></td></tr></table></figure><br>注意访问任意全局类，函数或常量，都可以使用完全限定名称</p><p>在命名空间内部访问全局类，函数和常量<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">Foo</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">strlen</span><span class="params">()</span> </span>&#123;&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">const</span> INI_ALL = <span class="number">3</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Exception</span> </span>&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$a = \strlen(<span class="string">'hi'</span>); <span class="comment">// 调用全局函数strlen</span></span></span><br><span class="line"><span class="php">$b = \INI_ALL; <span class="comment">// 访问全局常量 INI_ALL</span></span></span><br><span class="line"><span class="php">$c = <span class="keyword">new</span> \<span class="keyword">Exception</span>(<span class="string">'error'</span>); <span class="comment">// 实例化全局类 Exception</span></span></span><br></pre></td></tr></table></figure></p><h2 id="命名空间和动态语言特征"><a href="#命名空间和动态语言特征" class="headerlink" title="命名空间和动态语言特征"></a>命名空间和动态语言特征</h2><p>PHP命名空间的实现受到其语言自身的动态特征影响。因此，如果要将下面的代码转换到命名空间中，动态访问元素</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">classname</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">__METHOD__</span>,<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">funcname</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="keyword">__FUNCTION__</span>,<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">const</span> constname = <span class="string">"global"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$a = <span class="string">'classname'</span>;</span></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> $a; <span class="comment">// prints classname::__construct</span></span></span><br><span class="line"><span class="php">$b = <span class="string">'funcname'</span>;</span></span><br><span class="line"><span class="php">$b(); <span class="comment">// prints funcname</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> constant(<span class="string">'constname'</span>), <span class="string">"\n"</span>; <span class="comment">// prints global</span></span></span><br></pre></td></tr></table></figure><p>必须使用完全限定名称（包括命名空间前缀的类名称）。注意因为在动态的类名称、函数名称或常量名称中，限定名称和完全限定名称没有区别，因此其前导的反斜杠是不必要的</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">namespacename</span>;</span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">classname</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">    &#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="keyword">__METHOD__</span>,<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">funcname</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="keyword">__FUNCTION__</span>,<span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">const</span> constname = <span class="string">"namespaced"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">include</span> <span class="string">'example1.php'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$a = <span class="string">'classname'</span>;</span></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> $a; <span class="comment">// 输出 classname::__construct</span></span></span><br><span class="line"><span class="php">$b = <span class="string">'funcname'</span>;</span></span><br><span class="line"><span class="php">$b(); <span class="comment">// 输出函数名</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> constant(<span class="string">'constname'</span>), <span class="string">"\n"</span>; <span class="comment">// 输出 global</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">/* 如果使用双引号，使用方法为 "\\namespacename\\classname"*/</span></span></span><br><span class="line"><span class="php">$a = <span class="string">'\namespacename\classname'</span>;</span></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> $a; <span class="comment">// 输出 namespacename\classname::__construct</span></span></span><br><span class="line"><span class="php">$a = <span class="string">'namespacename\classname'</span>;</span></span><br><span class="line"><span class="php">$obj = <span class="keyword">new</span> $a; <span class="comment">// 输出 namespacename\classname::__construct</span></span></span><br><span class="line"><span class="php">$b = <span class="string">'namespacename\funcname'</span>;</span></span><br><span class="line"><span class="php">$b(); <span class="comment">// 输出 namespacename\funcname</span></span></span><br><span class="line"><span class="php">$b = <span class="string">'\namespacename\funcname'</span>;</span></span><br><span class="line"><span class="php">$b(); <span class="comment">// 输出 namespacename\funcname</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> constant(<span class="string">'\namespacename\constname'</span>), <span class="string">"\n"</span>; <span class="comment">// 输出 namespaced</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> constant(<span class="string">'namespacename\constname'</span>), <span class="string">"\n"</span>; <span class="comment">// 输出 namespaced</span></span></span><br></pre></td></tr></table></figure><h2 id="namespace关键字和-NAMESPACE-常量"><a href="#namespace关键字和-NAMESPACE-常量" class="headerlink" title="namespace关键字和_NAMESPACE_常量"></a>namespace关键字和_NAMESPACE_常量</h2><p>PHP支持两种抽象的访问当前命名空间内部元素的方法，<strong>NAMESPACE</strong> 魔术常量和namespace关键字。</p><p>常量<strong>NAMESPACE</strong>的值是包含当前命名空间名称的字符串。在全局的，不包括在任何命名空间中的代码，它包含一个空的字符串。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">'"'</span>, <span class="keyword">__NAMESPACE__</span>, <span class="string">'"'</span>; <span class="comment">// 输出 "MyProject"</span></span></span><br></pre></td></tr></table></figure><p>使用_NAMESPACE_动态创建名称<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">get</span><span class="params">($classname)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    $a = <span class="keyword">__NAMESPACE__</span> . <span class="string">'\\'</span> . $classname;</span></span><br><span class="line"><span class="php">    <span class="keyword">return</span> <span class="keyword">new</span> $a;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure></p><h2 id="全局空间"><a href="#全局空间" class="headerlink" title="全局空间"></a>全局空间</h2><p>如果没有定义任何命名空间，所有的类与函数的定义都是在全局空间，与 PHP 引入命名空间概念前一样。在名称前加上前缀 \ 表示该名称是全局空间中的名称，即使该名称位于其它的命名空间中时也是如此。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">A</span>\<span class="title">B</span>\<span class="title">C</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">/* 这个函数是 A\B\C\fopen */</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">fopen</span><span class="params">()</span> </span>&#123; </span></span><br><span class="line"><span class="php">     <span class="comment">/* ... */</span></span></span><br><span class="line"><span class="php">     $f = \fopen(...); <span class="comment">// 调用全局的fopen函数</span></span></span><br><span class="line"><span class="php">     <span class="keyword">return</span> $f;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.命名空间的存在增加了代码的灵活度，可以更好的编写程序</p><p>2.命名空间的使用基本与文件目录相似，都是使用<code>\</code>来进行划分，如果只有一个<code>\</code>那就默认为是全局空间，不加也可以</p><p>3.完全命名空间可以看成是完整的绝对路径，而不完全的基本上可以看成是相对路径</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;命名空间&quot;&gt;&lt;a href=&quot;#命名空间&quot; class=&quot;headerlink&quot; title=&quot;命名空间&quot;&gt;&lt;/a&gt;命名空间&lt;/h1&gt;&lt;p&gt;namespace在C++里见过，use namespace std;&lt;/p&gt;
&lt;p&gt;命名空间可以解决两类问题&lt;/p&gt;
&lt;u
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/8-学习日记</title>
    <link href="http://yoursite.com/2020/07/08/PHP-2020-7-8-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/08/PHP-2020-7-8-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-08T12:03:51.000Z</published>
    <updated>2020-07-08T12:29:37.922Z</updated>
    
    <content type="html"><![CDATA[<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="创建PHP函数"><a href="#创建PHP函数" class="headerlink" title="创建PHP函数"></a>创建PHP函数</h2><p>函数是通过调用函数来执行的</p><p>语法<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="comment">// 要执行的代码</span></span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>PHP函数准则：</p><ul><li>函数的名称应该提示出它的功能</li><li>函数名称以字母或下划线开头，不能以数字开头</li></ul><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">writeName</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Kai Jim Refsnes"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My name is "</span>;</span></span><br><span class="line"><span class="php">writeName();</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">My <span class="built_in">name</span> <span class="keyword">is</span> Kai Jim Refsnes</span><br></pre></td></tr></table></figure></p><h2 id="添加参数"><a href="#添加参数" class="headerlink" title="添加参数"></a>添加参数</h2><p>为了给函数添加更多的功能，我们可以添加参数，参数类似于变量<br>参数就在函数名称后面的一个括号内指定</p><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">writeName</span><span class="params">($fname)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $fname . <span class="string">" Refsnes.\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Kai Jim"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My sister's name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Hege"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My brother's name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Stale"</span>);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">My name <span class="keyword">is</span> Kai Jim Refsnes.</span><br><span class="line">My siste<span class="string">r's name is Hege Refsnes.</span></span><br><span class="line"><span class="string">My brother'</span>s name <span class="keyword">is</span> Stale Refsnes.</span><br></pre></td></tr></table></figure></p><p>还可以为两个参数<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">writeName</span><span class="params">($fname,$punctuation)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $fname . <span class="string">" Refsnes"</span> . $punctuation . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Kai Jim"</span>,<span class="string">"."</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My sister's name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Hege"</span>,<span class="string">"!"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"My brother's name is "</span>;</span></span><br><span class="line"><span class="php">writeName(<span class="string">"Ståle"</span>,<span class="string">"?"</span>);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">My name is Kai Jim Refsnes.</span><br><span class="line">My siste<span class="string">r's name is Hege Refsnes!</span></span><br><span class="line"><span class="string">My brother'</span>s name is Ståle Refsnes?</span><br></pre></td></tr></table></figure></p><h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><p>使用return语句</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">($x,$y)</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    $total=$x+$y;</span></span><br><span class="line"><span class="php">    <span class="keyword">return</span> $total;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"1 + 16 = "</span> . add(<span class="number">1</span>,<span class="number">16</span>);</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>+ <span class="number">16</span> = <span class="number">17</span></span><br></pre></td></tr></table></figure></p><h1 id="魔术常量"><a href="#魔术常量" class="headerlink" title="魔术常量"></a>魔术常量</h1><p>PHP向它运行的任何脚本提供了大量的预定义常量</p><p>还可以通过加载拓展库来实现更多常量</p><p>有八个魔术常量它们的值随着它们在代码中的位置改变而改变</p><h2 id="LINE"><a href="#LINE" class="headerlink" title="_LINE_"></a>_LINE_</h2><p>文件中的当前行号<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">'这是第 " '</span>  . <span class="keyword">__LINE__</span> . <span class="string">' " 行'</span>;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是第 <span class="string">" 2 "</span> 行</span><br></pre></td></tr></table></figure></p><h2 id="FILE"><a href="#FILE" class="headerlink" title="_FILE_"></a>_FILE_</h2><p>文件的完整路径和文件名。如果用在被包含文件中，则返回被包含的文件名</p><p>从PHP4.0.2后，总是包含一个绝对路径</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">'该文件位于 " '</span>  . <span class="keyword">__FILE__</span> . <span class="string">' " '</span>;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">该文件位于 " F:<span class="symbol">\d</span>efault<span class="symbol">\P</span>HP_default<span class="symbol">\t</span>est1.php "</span><br></pre></td></tr></table></figure></p><h2 id="DIR"><a href="#DIR" class="headerlink" title="_DIR_"></a>_DIR_</h2><p>返回文件所在的目录。如果用在被包括文件中，则返回被包含的文件所在的目录</p><p>等价于dirname(_FILE_)。除非是根目录，否则目录名不包括末尾的斜杠</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">'该文件位于 " '</span>  . <span class="keyword">__DIR__</span> . <span class="string">' " '</span>;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">该文件位于 " F:<span class="symbol">\d</span>efault<span class="symbol">\P</span>HP_default "</span><br></pre></td></tr></table></figure></p><h2 id="FUNCTION"><a href="#FUNCTION" class="headerlink" title="_FUNCTION_"></a>_FUNCTION_</h2><p>返回函数所在的函数名称。自PHP5起本常量返回该函数被定义时的名字(区分大小写)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span>  <span class="string">'函数名为：'</span> . <span class="keyword">__FUNCTION__</span> ;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php">test();</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名为：<span class="built_in">test</span></span><br></pre></td></tr></table></figure></p><h2 id="CLASS"><a href="#CLASS" class="headerlink" title="_CLASS_"></a>_CLASS_</h2><p>返回所在类的名称。自PHP5起本常量返回该类被定义时的名字(区分大小写)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">test</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="function"><span class="keyword">function</span> <span class="title">_print</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'类名为：'</span>  . <span class="keyword">__CLASS__</span> . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span>  <span class="string">'函数名为：'</span> . <span class="keyword">__FUNCTION__</span> ;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php">$t = <span class="keyword">new</span> test();</span></span><br><span class="line"><span class="php">$t-&gt;_print();</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名为：<span class="built_in">test</span></span><br><span class="line">函数名为：_print</span><br></pre></td></tr></table></figure></p><h2 id="TRAIT"><a href="#TRAIT" class="headerlink" title="_TRAIT_"></a>_TRAIT_</h2><p>Trait的名字。自PHP5.4起，PHP实现代码复用的一个方法，称为traits</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'Hello '</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">trait</span> SayWorld &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">parent</span>::sayHello();</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'World!'</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">use</span> <span class="title">SayWorld</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$o = <span class="keyword">new</span> MyHelloWorld();</span></span><br><span class="line"><span class="php">$o-&gt;sayHello();</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello World!</span><br></pre></td></tr></table></figure></p><h2 id="METHOD"><a href="#METHOD" class="headerlink" title="_METHOD_"></a>_METHOD_</h2><p>返回类的方法名。返回该方法被定义时的名字<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span>  <span class="string">'函数名为：'</span> . <span class="keyword">__METHOD__</span> ;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php">test();</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名为：<span class="built_in">test</span></span><br></pre></td></tr></table></figure></p><h2 id="NAMESPACE"><a href="#NAMESPACE" class="headerlink" title="_NAMESPACE_"></a>_NAMESPACE_</h2><p>返回当前命名空间的名称(区分大小写)<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">namespace</span> <span class="title">MyProject</span>;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">'命名空间为："'</span>, <span class="keyword">__NAMESPACE__</span>, <span class="string">'"'</span>; <span class="comment">// 输出 "MyProject"</span></span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命名空间为：<span class="string">"MyProject"</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.PHP中定义函数使用function关键字</p><p>2.魔术常量_FUNCTION_和_METHOD_的区别在于，_FUNCTION_只返回方法(函数)的名字；_METHOD_会返回类名和方法的名字</p><p>3.PHP中的trait关键字是实现代码复用的方法，是为了PHP的单继承性质而准备的一种代码复用机制</p><p>trait的基本用法<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">ezcReflectionReturnInfo</span> </span>&#123;</span><br><span class="line">    function getReturnType() &#123; <span class="comment">/*1*/</span> &#125;</span><br><span class="line">    function getReturnDescription() &#123; <span class="comment">/*2*/</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ezcReflectionMethod</span> <span class="keyword">extends</span> <span class="title">ReflectionMethod</span> </span>&#123;</span><br><span class="line">    use ezcReflectionReturnInfo;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ezcReflectionFunction</span> <span class="keyword">extends</span> <span class="title">ReflectionFunction</span> </span>&#123;</span><br><span class="line">    use ezcReflectionReturnInfo;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>优先级顺序:</p><p>从基类继承的成员被插入的 SayWorld Trait 中的 MyHelloWorld 方法所覆盖。其行为 MyHelloWorld 类中定义的方法一致。优先顺序是当前类中的方法会覆盖 trait 方法，而 trait 方法又覆盖了基类中的方法。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">Base</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'Hello '</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">trait</span> SayWorld &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">parent</span>::sayHello();</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'World!'</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyHelloWorld</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">use</span> <span class="title">SayWorld</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$o = <span class="keyword">new</span> MyHelloWorld();</span></span><br><span class="line"><span class="php">$o-&gt;sayHello();</span></span><br></pre></td></tr></table></figure></p><p>修改方法的访问控制</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">trait</span> HelloWorld &#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">        <span class="keyword">echo</span> <span class="string">'Hello World!'</span>;</span></span><br><span class="line"><span class="php">    &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 修改 sayHello 的访问控制</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass1</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">use</span> <span class="title">HelloWorld</span> &#123; <span class="title">sayHello</span> <span class="title">as</span> <span class="title">protected</span>; &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 给方法一个改变了访问控制的别名</span></span></span><br><span class="line"><span class="php"><span class="comment">// 原版 sayHello 的访问控制则没有发生变化</span></span></span><br><span class="line"><span class="php"><span class="class"><span class="keyword">class</span> <span class="title">MyClass2</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">use</span> <span class="title">HelloWorld</span> &#123; <span class="title">sayHello</span> <span class="title">as</span> <span class="title">private</span> <span class="title">myPrivateHello</span>; &#125;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><p>更多用法可以参考手册<br><a href="https://www.php.net/manual/zh/language.oop5.traits.php" target="_blank" rel="noopener">https://www.php.net/manual/zh/language.oop5.traits.php</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;函数&quot;&gt;&lt;a href=&quot;#函数&quot; class=&quot;headerlink&quot; title=&quot;函数&quot;&gt;&lt;/a&gt;函数&lt;/h1&gt;&lt;h2 id=&quot;创建PHP函数&quot;&gt;&lt;a href=&quot;#创建PHP函数&quot; class=&quot;headerlink&quot; title=&quot;创建PHP函数&quot;&gt;&lt;/
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb-2020/7/7-学习日记</title>
    <link href="http://yoursite.com/2020/07/07/JavaWeb-2020-7-7-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/07/JavaWeb-2020-7-7-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-07T12:55:56.000Z</published>
    <updated>2020-07-07T14:31:26.393Z</updated>
    
    <content type="html"><![CDATA[<p>阿西吧，上课时候没看视频，现在来还债了，两周学完JavaWeb基础，太难了</p><h1 id="用IDEA创建JavaWeb项目并部署"><a href="#用IDEA创建JavaWeb项目并部署" class="headerlink" title="用IDEA创建JavaWeb项目并部署"></a>用IDEA创建JavaWeb项目并部署</h1><p>第一步先在创建好的project下创建一个新的Module，Module要注意勾选JavaWeb Application，随便命名，就命名一个HelloWorld吧<br><img src="/img/JavaWeb/7-7学习日记/0.png" alt="avatar"><br>创建好应该是上图所示的状态</p><p>接下来在src下创建class文件，创建就好不用写什么东西</p><p>接着可以看到有一个web项目，那就表示我们创建了对的JavaWeb的Module</p><p><img src="/img/JavaWeb/7-7学习日记/1.png" alt="avatar"></p><p>接下来找到这个地方 配置tomcat ，配置方法百度就行不再细说</p><p>配置好了之后 我们打开web下 找到index.jsp 吧bode标签里的内容改一下，这个内容就是等下运行时显示在浏览器上的内容</p><p>修改好之后 直接运行即可，会自动打开浏览器，看到效果<br><img src="/img/JavaWeb/7-7学习日记/2.png" alt="avatar"></p><h1 id="Web项目目录结构"><a href="#Web项目目录结构" class="headerlink" title="Web项目目录结构"></a>Web项目目录结构</h1><p>在运行之后，我们看到out目录下会出现一个叫做WEB-INF的项目，WEB-INF是不能通过浏览器访问的，也就是说对用户来说是不可见的内容，里面的内容只要是web.xml的配置文件以及一个classes项目，下面存储的就是你在src中编写的内容</p><p>不在WEB-INf里的内容 都可以从浏览器直接访问，无论是静态的还是动态的网页<br><img src="/img/JavaWeb/7-7学习日记/3.png" alt="avatar"></p><h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul><li><p>Servlet全称是Java Servlet，是用Java编写的服务器端程序。其主要功能在于交互式地浏览和修改数据，生成动态Web内容</p></li><li><p>Servlet是JavaWeb的核心内容，是Java Web三大组件之一(Servlet,Filter,Listener)</p></li><li><p>在HTTP请求过程中会把请求的参数存放在请求行的URL中，或是请求体中，这个参数需要服务器来接受解析并处理，Servlet就是用来处理这个过程的</p></li></ul><h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><ul><li><p>用来处理客户端发来的请求，并对该请求做出响应</p></li><li><p>获取接受客户端发送来的请求数据</p></li><li><p>处理请求</p></li><li><p>将处理的结果通过响应发送到客户端</p></li></ul><h2 id="编写第一个Servlet"><a href="#编写第一个Servlet" class="headerlink" title="编写第一个Servlet"></a>编写第一个Servlet</h2><ul><li>Servlet程序必须要编写实现类，通常是继承javax.servlet.http.HttpServlet</li></ul><h3 id="创建project以及相关设置"><a href="#创建project以及相关设置" class="headerlink" title="创建project以及相关设置"></a>创建project以及相关设置</h3><p>首先第一步创建一个project，并勾选web application</p><p>然后在web下的WEB-INF下创建文件夹命名为classes和lib</p><p><img src="/img/JavaWeb/7-7学习日记/4.png" alt="avatar"></p><p>然后打开File找到Project Structure<br><img src="/img/JavaWeb/7-7学习日记/5.png" alt="avatar"><br>将其改为你自己的classes路径 两个都要改</p><p>接着在Dependencies里点击+号 添加Jars，并且选择WEB-INF下的lib文件夹<br><img src="/img/JavaWeb/7-7学习日记/6.png" alt="avatar"></p><p>在Artifacts中将output directory改为你tomcat中webapps下创建的同名文件夹<br><img src="/img/JavaWeb/7-7学习日记/7.png" alt="avatar"></p><p>接着就是配置tomcat了，默认配置就行，配置方法百度，不细说</p><h3 id="创建servlet并编写servlet"><a href="#创建servlet并编写servlet" class="headerlink" title="创建servlet并编写servlet"></a>创建servlet并编写servlet</h3><p>在src下创建servlet，不是直接创建classes，将其命名为shoppingservlet</p><p>package随意就好</p><p><img src="/img/JavaWeb/7-7学习日记/8.png" alt="avatar"></p><p>编写servlet成这样<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cyl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.<span class="type">ServletException</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.<span class="type">WebServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServlet</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletRequest</span>;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.<span class="type">HttpServletResponse</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">IOException</span>;</span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">PrintWriter</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span>(name = <span class="string">"shoppingservlet"</span>)</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">shoppingservlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> void doPost(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response) <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        doGet(request, response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> void doGet(<span class="type">HttpServletRequest</span> request, <span class="type">HttpServletResponse</span> response) <span class="keyword">throws</span> <span class="type">ServletException</span>, <span class="type">IOException</span> &#123;</span><br><span class="line">        response.setContentType(<span class="string">"text/html"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">PrintWriter</span> out=response.getWriter();</span><br><span class="line"></span><br><span class="line">        out.println(<span class="string">"this is servlet"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="配置xml文件"><a href="#配置xml文件" class="headerlink" title="配置xml文件"></a>配置xml文件</h3><p>你还需要配置xml文件，打开web.xml文件，将其改为<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>shoppingservlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.cyl.shoppingservlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>shoppingservlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/A<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>/A可以随意，改成/B /C都可以</p><h3 id="运行servlet"><a href="#运行servlet" class="headerlink" title="运行servlet"></a>运行servlet</h3><p>所有步骤都完毕之后，就可以直接运行了，点击运行按钮，会自动打开浏览器，URL为localhost:8080</p><p>访问<code>http://localhost:8080/shoppingservlet/A</code></p><p>即可看到this is servlet </p><p>这样一个servlet就编译并运行成功了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;阿西吧，上课时候没看视频，现在来还债了，两周学完JavaWeb基础，太难了&lt;/p&gt;
&lt;h1 id=&quot;用IDEA创建JavaWeb项目并部署&quot;&gt;&lt;a href=&quot;#用IDEA创建JavaWeb项目并部署&quot; class=&quot;headerlink&quot; title=&quot;用IDEA创建Ja
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="JavaWeb" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/JavaWeb/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/7-学习日记</title>
    <link href="http://yoursite.com/2020/07/07/PHP-2020-7-7-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/07/PHP-2020-7-7-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-07T07:27:27.000Z</published>
    <updated>2020-07-07T13:01:40.051Z</updated>
    
    <content type="html"><![CDATA[<h1 id="超全局变量"><a href="#超全局变量" class="headerlink" title="超全局变量"></a>超全局变量</h1><p>PHP4.1.X后就启用了超全局变量，可以在脚本的任意位置运行</p><p>PHP的超全局变量有:</p><ul><li>$GLOBALS</li><li>$_SERVER</li><li>$_REQUEST</li><li>$_POST</li><li>$_GET</li><li>$_FILES</li><li>$_ENV</li><li>$_COOKIE</li><li>$_SESSION</li></ul><h2 id="GLOBALS"><a href="#GLOBALS" class="headerlink" title="$GLOBALS"></a>$GLOBALS</h2><p>$GLOBALS是PHP的一个超级全局变量组，在PHP脚本的全部作用域，也就是任意位置都可以直接访问到</p><p>$GLOBALS是一个包含了全部变量的全局组合数组。变量的名字就是数组的键</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x = <span class="number">75</span>;</span></span><br><span class="line"><span class="php">$y = <span class="number">25</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">addition</span><span class="params">()</span></span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    $GLOBALS[<span class="string">'z'</span>] = $GLOBALS[<span class="string">'x'</span>] + $GLOBALS[<span class="string">'y'</span>];</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php">addition();</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $z;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure><br>在这个例子中可以看到变量z并没有提前定义，而是使用$GLOBALS来进行创建超全局变量，变量z同样可以在函数外访问</p><p>$GLOBALS是PHP中最常用的超全局变量</p><h2 id="SERVER"><a href="#SERVER" class="headerlink" title="$_SERVER"></a>$_SERVER</h2><p>$_SERVER是一个包含了诸多信息的数组，例如信息头header,路径path,以及脚本的位置等</p><p>数组中的项目都是由WEB服务器创建的，不能够保证每个服务器都提供全部项目，而是根据服务器来进行动态的调整</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'PHP_SELF'</span>];</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'SERVER_NAME'</span>];</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'HTTP_HOST'</span>];</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'HTTP_REFERER'</span>];</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'HTTP_USER_AGENT'</span>];</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"&lt;br&gt;"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $_SERVER[<span class="string">'SCRIPT_NAME'</span>];</span></span><br></pre></td></tr></table></figure><p>下表列出了所有$_SERVER中的重要元素</p><div class="table-container"><table><thead><tr><th>描述</th><th>引入方法 </th></tr></thead><tbody><tr><td>$_SERVER[‘PHP_SELF’]</td><td>当前执行脚本的文件名，与document root有关</td></tr><tr><td>$_SERVER[‘GATEWAY_INTERFACE’]</td><td>服务器使用的CGI规范的版本</td></tr><tr><td>$_SERVER[‘SERVER_ADDR’]</td><td>当前运行脚本所在服务器的IP地址</td></tr><tr><td>$_SERVER[‘SERVER_NAME’]</td><td>当前运行脚本所在服务器的主机名</td></tr><tr><td>$_SERVER[‘SERVER_SOFTWARE’]</td><td>服务器标识字符串，在响应请求时的头信息中给出</td></tr><tr><td>$_SERVER[‘SERVER_PROTOCOL’]</td><td>请求页面时通信协议的名称和版本</td></tr><tr><td>$_SERVER[‘REQUEST_METHOD’]</td><td>访问页面使用的请求方法</td></tr><tr><td>$_SERVER[‘REQUEST_TIME’]</td><td>请求开始时的时间戳</td></tr><tr><td>$_SERVER[‘HTTP_ACCEPT’]</td><td>当前请求头中Accept项的内容，如果存在的话</td></tr><tr><td>$_SERVER[‘HTTP_HOST’]</td><td>当前请求头中Host:项的内容，如果存在的话</td></tr><tr><td>$_SERVER[‘HTTPS’]</td><td>如果脚本是通过HTTPS协议被访问，则被设为一个非空的值</td></tr><tr><td>$_SERVER[‘REMOTE_ADDR’]</td><td>当前页面的用户的IP地址</td></tr><tr><td>$_SERVER[‘REMOTE_HOST’]</td><td>当前页面的用户的主机名</td></tr><tr><td>$_SERVER[‘REMOTE_PORT’]</td><td>用户机器上连接到Web服务器所使用的端口号</td></tr><tr><td>$_SERVER[‘SCRIPT_FILENAME’]</td><td>当前执行脚本的绝对路径</td></tr><tr><td>$_SERVER[‘SCRIPT_URI’]</td><td>URI 用来指定要访问的页面</td></tr></tbody></table></div><p>还有很多参数不常用，具体可以参考一下手册</p><h2 id="REQUEST"><a href="#REQUEST" class="headerlink" title="$_REQUEST"></a>$_REQUEST</h2><p>$_REQUEST用于收集HTML表单提交的数据<br>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">"&lt;?php echo $_SERVER['PHP_SELF'];?&gt;"</span>&gt;</span></span><br><span class="line">Name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php">$name = $_REQUEST[<span class="string">'fname'</span>]; </span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $name; </span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br><img src="/img/PHP/7-7日记.png" alt="avatar"></p><p>上面这个例子就是向前端显示了一个输入字段Input和一个提交按钮submit的表单。当用户点击submit提交表单时，将会执行表单中action的属性指定的脚本文件，用POST方式来接受输入的内容</p><p>使用超全局变量$_POST可以收集表单中input字段的数据</p><h2 id="GET"><a href="#GET" class="headerlink" title="$_GET"></a>$_GET</h2><p>$_GET同样被广泛用于收集表单数据中，只需要将表单中的method改为get即可</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"test_get.php?subject=PHP&amp;web=runoob.com"</span>&gt;</span>测试 $_GET<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Study</span> PHP @ runoob.com</span><br></pre></td></tr></table></figure><br>当用户点击链接时便会输出运行结果</p><p>PHP脚本的意思是，将参数subject和web发送至test_get.php中，就可以在test_get.php文件中使用$_GET变量来获取这些数据<br>test_get.php的代码<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span> </span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"Study "</span> . $_GET[<span class="string">'subject'</span>] . <span class="string">" @ "</span> . $_GET[<span class="string">'web'</span>];</span></span><br><span class="line"><span class="php"><span class="meta">?&gt;</span></span></span><br></pre></td></tr></table></figure></p><h1 id="PHP循环"><a href="#PHP循环" class="headerlink" title="PHP循环"></a>PHP循环</h1><p>代码编写必不可少的除了判断，还有循环</p><p>PHP的循环基本类似于C语言</p><ul><li>while 只要条件成立，则循环代码块</li><li>do…while 不管条件是否成立，都执行一次代码块，再进行条件判断</li><li>for 循环代码块指定的次数</li><li>foreach 根据数组中每个元素来循环代码块</li></ul><h2 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h2><p>语法<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件)&#123;</span><br><span class="line">代码块;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>例如循环输出1-5<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$i=<span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">while</span>($i&lt;=<span class="number">5</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"The number is "</span> . $i . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">    $i++;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The number <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">3</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></p><h2 id="do…while语句"><a href="#do…while语句" class="headerlink" title="do…while语句"></a>do…while语句</h2><p>语法<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">    代码块;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (条件);</span><br></pre></td></tr></table></figure><br>还是类似的例子<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$i=<span class="number">1</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">do</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    $i++;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"The number is "</span> . $i . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">while</span> ($i&lt;=<span class="number">5</span>);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The number <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">3</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">5</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><br>这个例子中将i++与echo调换了顺序来说明do…while循环</p><h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><p>语法<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (初始值<span class="comment">; 条件; 增量)</span></span><br><span class="line">&#123;</span><br><span class="line">    代码块<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>与C语言一摸一样<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">for</span> ($i=<span class="number">1</span>; $i&lt;=<span class="number">5</span>; $i++)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"The number is "</span> . $i . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The number <span class="keyword">is</span> <span class="number">1</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">3</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">4</span></span><br><span class="line">The number <span class="keyword">is</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></p><h2 id="foreach循环"><a href="#foreach循环" class="headerlink" title="foreach循环"></a>foreach循环</h2><p>语法<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> ($array <span class="keyword">as</span> $value)</span><br><span class="line">&#123;</span><br><span class="line">    代码块;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>每进行一次循环，当前数组元素的值就会被赋值给 $value 变量（数组指针会逐一地移动），在进行下一次循环时，您将看到数组中的下一个值</p><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x=<span class="keyword">array</span>(<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="string">"three"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">foreach</span> ($x <span class="keyword">as</span> $value)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $value . <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">one</span></span><br><span class="line"><span class="literal">two</span></span><br><span class="line"><span class="literal">three</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.$GLOBALS是PHP最常见和常用的超全局变量，我的理解可以将其理解为JAVA中的object类，虽然方法和概念有所不同，但是思路基本一致，都是覆盖了整个编程范围</p><p>2.$_SERVER中的项目是由Web服务器创建的，不是所有服务器都包含了全部的项目，是根据服务器进行灵活变动的</p><p>3.$_REQUEST主要是用于收集HTML表单提交的内容，默认是post方式</p><p>4.$_POST同样应用于收集表单数据，$_GET也一样，只不过两者方式不同，一种是以POST方式接受数据，一种则是以GET的方式来接受数据</p><p>5.在编写循环语句时，要注意终止条件是否满足要求，避免出现死循环的现象</p><p>6.在事先已经确定好要循环多少次时，使用for循环最佳，不确定时使用while循环配合continue和break来终止循环，foreach循环常用在遍历输出数组上</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;超全局变量&quot;&gt;&lt;a href=&quot;#超全局变量&quot; class=&quot;headerlink&quot; title=&quot;超全局变量&quot;&gt;&lt;/a&gt;超全局变量&lt;/h1&gt;&lt;p&gt;PHP4.1.X后就启用了超全局变量，可以在脚本的任意位置运行&lt;/p&gt;
&lt;p&gt;PHP的超全局变量有:&lt;/p&gt;
&lt;ul
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/7/6-学习日记</title>
    <link href="http://yoursite.com/2020/07/06/PHP-2020-7-6-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>http://yoursite.com/2020/07/06/PHP-2020-7-6-%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-07-06T12:15:41.000Z</published>
    <updated>2020-07-06T12:32:21.838Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h1><p>PHP中内置了PHP数组的排列函数</p><ul><li>sort() 对数组进行升序排列</li><li>rsort() 对数组进行降序排列</li><li>asort() 根据关联数组的值，对数组进行升序排列</li><li>ksort() 根据关联数组的键，对数组进行升序排列</li><li>arsort() 根据关联数组的值，对数组进行降序排列</li><li>krsort() 根据关联数组的键，对数组进行降序排列</li></ul><h2 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php">sort($cars);</span></span><br><span class="line"><span class="php">print_r($cars);</span></span><br></pre></td></tr></table></figure><p>运行结果为<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; BMW</span><br><span class="line">    [<span class="number">1</span>] =&gt; Toyota</span><br><span class="line">    [<span class="number">2</span>] =&gt; Volvo</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>数字也同样类似<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$numbers=<span class="built_in">array</span>(<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">11</span>);</span><br><span class="line">sort($numbers);</span><br><span class="line">print_r($numbers);</span><br></pre></td></tr></table></figure><br>运行结果为<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">2</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">4</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; <span class="number">6</span></span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">11</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">22</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h2 id="rsort"><a href="#rsort" class="headerlink" title="rsort()"></a>rsort()</h2><p>rsort就与sort()相反，降序排列，r的意思就是reverse，不过多举例</p><h2 id="asort"><a href="#asort" class="headerlink" title="asort()"></a>asort()</h2><p>a就是associative，关联的意思，默认关联值<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">asort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h2 id="arsort"><a href="#arsort" class="headerlink" title="arsort()"></a>arsort()</h2><p>与asort()相反<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">arsort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h2 id="ksort"><a href="#ksort" class="headerlink" title="ksort()"></a>ksort()</h2><p>k其实就是key，就是键值对里的键<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">ksort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>这次比较的其实就是键，也就是=&gt;前的内容</p><p>按字母大小顺序排列</p><h2 id="krsort"><a href="#krsort" class="headerlink" title="krsort()"></a>krsort()</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">krsort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>参考前面，不过多介绍</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.PHP内置的数组排列函数适用于所有合法的数组</p><p>2.r就是reversere,相反的意思，看到PHP函数中开头有r，基本可以确定是以原函数相反的返回结果</p><p>3.键值对是常见的存储方式，格式是KEY=&gt;DATA,不能颠倒，KEY与DATA的命名只要符合命名规则，可以随意命名</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;数组排序&quot;&gt;&lt;a href=&quot;#数组排序&quot; class=&quot;headerlink&quot; title=&quot;数组排序&quot;&gt;&lt;/a&gt;数组排序&lt;/h1&gt;&lt;p&gt;PHP中内置了PHP数组的排列函数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sort() 对数组进行升序排列&lt;/li&gt;
&lt;li&gt;rsort
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/6/14-周报2</title>
    <link href="http://yoursite.com/2020/06/14/PHP-2020-6-14-%E5%91%A8%E6%8A%A52/"/>
    <id>http://yoursite.com/2020/06/14/PHP-2020-6-14-%E5%91%A8%E6%8A%A52/</id>
    <published>2020-06-14T02:22:55.000Z</published>
    <updated>2020-06-14T03:17:34.980Z</updated>
    
    <content type="html"><![CDATA[<h1 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h1><p>在编写代码的时候常常需要为不同判断执行不同的动作<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>语句 -条件成立时执行代码</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">if</span></span>...<span class="keyword">else</span>语句 -条件成立时执行一块代码，条件不成立时执行另一块代码</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">if</span></span>...elseif...<span class="keyword">else</span>语句 -在若干条件之一成立时执行一个代码块</span><br><span class="line"></span><br><span class="line">switch语句 -在若干条件之一成立时执行一个代码块</span><br></pre></td></tr></table></figure></p><h2 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h2><p>语法和C语言类似<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(条件)&#123;</span><br><span class="line">代码<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$t=date(<span class="string">"H"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($t&lt;<span class="string">"20"</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good day!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>如果当前时间小于20，那就输出Have a good day!</p><h2 id="if…else语句"><a href="#if…else语句" class="headerlink" title="if…else语句"></a>if…else语句</h2><p>语法<br><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if (条件)</span><br><span class="line">&#123;</span><br><span class="line">条件成立时执行的代码<span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">条件不成立时执行的代码<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$t=date(<span class="string">"H"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($t&lt;<span class="string">"20"</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good day!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">else</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good night!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>如果当前时间小于20,就输出Have a good day!，否则就输出Have a good night!</p><h2 id="if…elseif…else"><a href="#if…elseif…else" class="headerlink" title="if…elseif…else"></a>if…elseif…else</h2><p>在若干条件之一成立时执行一个代码块</p><p>语法<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> 条件成立时执行的代码;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span> (条件)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">elseif</span> 条件成立时执行的代码;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    条件不成立时执行的代码;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$t=date(<span class="string">"H"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($t&lt;<span class="string">"10"</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good morning!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">elseif</span> ($t&lt;<span class="string">"20"</span>)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good day!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"><span class="keyword">else</span></span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Have a good night!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>如果当前时间小于 10，下面的实例将输出 Have a good morning!，如果当前时间不小于 10 且小于 20，则输出 Have a good day!，否则输出 Have a good night!</p><h2 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h2><p>switch语句可以说是if…elseif…else的改进，目的是为了更方便的在多条件下执行正确的代码块</p><p>语法<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">switch</span> (n)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php"><span class="keyword">case</span> label1:</span></span><br><span class="line"><span class="php">    如果 n=label1，此处代码将执行;</span></span><br><span class="line"><span class="php">    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">case</span> label2:</span></span><br><span class="line"><span class="php">    如果 n=label2，此处代码将执行;</span></span><br><span class="line"><span class="php">    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">default</span>:</span></span><br><span class="line"><span class="php">    如果 n 既不等于 label1 也不等于 label2，此处代码将执行;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$favcolor=<span class="string">"red"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">switch</span> ($favcolor)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php"><span class="keyword">case</span> <span class="string">"red"</span>:</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"你喜欢的颜色是红色!"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">case</span> <span class="string">"blue"</span>:</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"你喜欢的颜色是蓝色!"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">case</span> <span class="string">"green"</span>:</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"你喜欢的颜色是绿色!"</span>;</span></span><br><span class="line"><span class="php">    <span class="keyword">break</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">default</span>:</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"你喜欢的颜色不是 红, 蓝, 或绿色!"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>首先对一个简单的表达式 n（通常是变量）进行一次计算。将表达式的值与结构中每个 case 的值进行比较。如果存在匹配，则执行与 case 关联的代码。代码执行后，使用 break 来阻止代码跳入下一个 case 中继续执行。default 语句用于不存在匹配（即没有 case 为真）时执行</p><h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><p>数组能够在单个变量中存储多个值<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"I like "</span> . $cars[<span class="number">0</span>] . <span class="string">", "</span> . $cars[<span class="number">1</span>] . <span class="string">" and "</span> . $cars[<span class="number">2</span>] . <span class="string">"."</span>;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">I like Volvo, <span class="keyword">BMW </span><span class="keyword">and </span>Toyota.</span><br></pre></td></tr></table></figure><br>数组就是为了方便遍历数据的产物<br><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$cars</span>1=<span class="string">"Volvo"</span>;</span><br><span class="line"><span class="symbol">$cars</span>2=<span class="string">"BMW"</span>;</span><br><span class="line"><span class="symbol">$cars</span>3=<span class="string">"Toyota"</span>;</span><br></pre></td></tr></table></figure><br>例如这样存储数据，那么在定义和调用的时候就会比较麻烦</p><h2 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h2><p>在PHP中使用<code>array()</code>函数创建数组</p><p>数组有三种类型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">数值数组 -带有数字ID键的数组</span><br><span class="line"></span><br><span class="line">关联数组 -带有指定的键的数组，每个键关联一个值</span><br><span class="line"></span><br><span class="line">多维数组 -包含一个或多个数组的数组</span><br></pre></td></tr></table></figure></p><h3 id="count函数"><a href="#count函数" class="headerlink" title="count函数"></a>count函数</h3><p>count函数用于返回数组的长度<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> count($cars);</span></span><br></pre></td></tr></table></figure><br>运行结果为3</p><h3 id="数值数组"><a href="#数值数组" class="headerlink" title="数值数组"></a>数值数组</h3><p>自动分配ID键，总是从0开始<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$cars=<span class="built_in">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span><br></pre></td></tr></table></figure><br>还可以人工分配，也就是指定下标内容<br><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$cars</span>[<span class="number">0</span>]=<span class="string">"Volvo"</span>;</span><br><span class="line"><span class="symbol">$cars</span>[<span class="number">1</span>]=<span class="string">"BMW"</span>;</span><br><span class="line"><span class="symbol">$cars</span>[<span class="number">2</span>]=<span class="string">"Toyota"</span>;</span><br></pre></td></tr></table></figure></p><h4 id="遍历数值数组"><a href="#遍历数值数组" class="headerlink" title="遍历数值数组"></a>遍历数值数组</h4><p>遍历数组一般用循环语句<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php">$arrlength=count($cars);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">for</span>($x=<span class="number">0</span>;$x&lt;$arrlength;$x++)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> $cars[$x];</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Volvo</span></span><br><span class="line"><span class="keyword">BMW</span></span><br><span class="line"><span class="keyword">Toyota</span></span><br></pre></td></tr></table></figure></p><h3 id="关联数组"><a href="#关联数组" class="headerlink" title="关联数组"></a>关联数组</h3><p>这里有两种关联数组的方式<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span><br></pre></td></tr></table></figure><br>OR<br><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$age</span>[<span class="string">'Peter'</span>]=<span class="string">"35"</span>;</span><br><span class="line"><span class="symbol">$age</span>[<span class="string">'Ben'</span>]=<span class="string">"37"</span>;</span><br><span class="line"><span class="symbol">$age</span>[<span class="string">'Joe'</span>]=<span class="string">"43"</span>;</span><br></pre></td></tr></table></figure></p><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"Peter is "</span> . $age[<span class="string">'Peter'</span>] . <span class="string">" years old."</span>;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Peter <span class="keyword">is</span> <span class="number">35</span> years old.</span><br></pre></td></tr></table></figure></p><h4 id="遍历关联数组"><a href="#遍历关联数组" class="headerlink" title="遍历关联数组"></a>遍历关联数组</h4><p>打印关联数组中的所有值可以用foreach循环<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">foreach</span>($age <span class="keyword">as</span> $x=&gt;$x_value)</span></span><br><span class="line"><span class="php">&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"Key="</span> . $x . <span class="string">", Value="</span> . $x_value;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Key</span>=Peter, <span class="attribute">Value</span>=35</span><br><span class="line"><span class="attribute">Key</span>=Ben, <span class="attribute">Value</span>=37</span><br><span class="line"><span class="attribute">Key</span>=Joe, <span class="attribute">Value</span>=43</span><br></pre></td></tr></table></figure></p><h2 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h2><p>按字母或者数字顺序降序或升序排列</p><h3 id="排列函数"><a href="#排列函数" class="headerlink" title="排列函数"></a>排列函数</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sort</span><span class="params">()</span></span> - 对数组进行升序排列</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">rsort</span><span class="params">()</span></span> - 对数组进行降序排列</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">asort</span><span class="params">()</span></span> - 根据关联数组的值，对数组进行升序排列</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">ksort</span><span class="params">()</span></span> - 根据关联数组的键，对数组进行升序排列</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">arsort</span><span class="params">()</span></span> - 根据关联数组的值，对数组进行降序排列</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">krsort</span><span class="params">()</span></span> - 根据关联数组的键，对数组进行降序排列</span><br></pre></td></tr></table></figure><h4 id="sort-对数组升序排列"><a href="#sort-对数组升序排列" class="headerlink" title="sort -对数组升序排列"></a>sort -对数组升序排列</h4><p>按照字母顺序升序排列<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php">sort($cars);</span></span><br><span class="line"><span class="php">print_r($cars);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; BMW</span><br><span class="line">    [<span class="number">1</span>] =&gt; Toyota</span><br><span class="line">    [<span class="number">2</span>] =&gt; Volvo</span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>按照数字排列<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$numbers=<span class="built_in">array</span>(<span class="number">4</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">11</span>);</span><br><span class="line">sort($numbers);</span><br><span class="line">print_r($numbers);</span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; <span class="number">2</span></span><br><span class="line">    [<span class="number">1</span>] =&gt; <span class="number">4</span></span><br><span class="line">    [<span class="number">2</span>] =&gt; <span class="number">6</span></span><br><span class="line">    [<span class="number">3</span>] =&gt; <span class="number">11</span></span><br><span class="line">    [<span class="number">4</span>] =&gt; <span class="number">22</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h4 id="rsort-对数组降序排列"><a href="#rsort-对数组降序排列" class="headerlink" title="rsort() -对数组降序排列"></a>rsort() -对数组降序排列</h4><p>按字母排列<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$cars=<span class="keyword">array</span>(<span class="string">"Volvo"</span>,<span class="string">"BMW"</span>,<span class="string">"Toyota"</span>);</span></span><br><span class="line"><span class="php">rsort($cars);</span></span><br><span class="line"><span class="php">print_r($cars);</span></span><br></pre></td></tr></table></figure><br>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [<span class="number">0</span>] =&gt; Volvo</span><br><span class="line">    [<span class="number">1</span>] =&gt; Toyota</span><br><span class="line">    [<span class="number">2</span>] =&gt; BMW</span><br><span class="line">)</span><br></pre></td></tr></table></figure><br>按字母排列类似</p><h4 id="asort-根据数组的值升序排列"><a href="#asort-根据数组的值升序排列" class="headerlink" title="asort -根据数组的值升序排列"></a>asort -根据数组的值升序排列</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">asort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>降序排列为arsort()</p><h4 id="ksort-根据数组的键升序排列"><a href="#ksort-根据数组的键升序排列" class="headerlink" title="ksort() -根据数组的键升序排列"></a>ksort() -根据数组的键升序排列</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$age=<span class="keyword">array</span>(<span class="string">"Peter"</span>=&gt;<span class="string">"35"</span>,<span class="string">"Ben"</span>=&gt;<span class="string">"37"</span>,<span class="string">"Joe"</span>=&gt;<span class="string">"43"</span>);</span></span><br><span class="line"><span class="php">ksort($age);</span></span><br><span class="line"><span class="php">print_r($age);</span></span><br></pre></td></tr></table></figure><p>运行结果<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Array</span></span><br><span class="line">(</span><br><span class="line">    [Ben] =&gt; <span class="number">37</span></span><br><span class="line">    [Joe] =&gt; <span class="number">43</span></span><br><span class="line">    [Peter] =&gt; <span class="number">35</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><p>降序排列为krsort()</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.PHP的判断语句与C语言很类似，在只有一句代码而不是代码块时，可以省略<code>{}</code></p><p>2.PHP的数组创建使用的是array()函数,而不是使用<code>[]</code></p><p>3.PHP中的数值数组其实ID键就是所说的下标，而关联数组类似于python中的键值对</p><p>4.数组的排列函数升序是sort，逆序就在sort前加一个r</p><p>5.遍历关联数组需要使用foreach语句，foreach 仅能够应用于数组和对象，在后面的循环中会讲到</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;条件语句&quot;&gt;&lt;a href=&quot;#条件语句&quot; class=&quot;headerlink&quot; title=&quot;条件语句&quot;&gt;&lt;/a&gt;条件语句&lt;/h1&gt;&lt;p&gt;在编写代码的时候常常需要为不同判断执行不同的动作&lt;br&gt;&lt;figure class=&quot;highlight gams&quot;&gt;&lt;ta
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>PHP-2020/6/7-周报1</title>
    <link href="http://yoursite.com/2020/06/07/PHP-2020-6-7-%E5%91%A8%E6%8A%A51/"/>
    <id>http://yoursite.com/2020/06/07/PHP-2020-6-7-%E5%91%A8%E6%8A%A51/</id>
    <published>2020-06-07T00:55:32.000Z</published>
    <updated>2020-06-07T02:14:42.408Z</updated>
    
    <content type="html"><![CDATA[<h1 id="类型比较"><a href="#类型比较" class="headerlink" title="类型比较"></a>类型比较</h1><p>虽然PHP是弱类型语言，但是对于变量的比较还是有一些不同</p><p>松散比较：使用<code>==</code>比较，只比较值，不比较类型</p><p>严格比较：使用<code>===</code>比较，除了比较值，也比较类型</p><p>例如<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"></span><br><span class="line"><span class="php">$x=<span class="string">"25"</span>;</span></span><br><span class="line"><span class="php">$y=<span class="number">25</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">var_dump($x);</span></span><br><span class="line"><span class="php">var_dump($y);</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($x==$y)&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"True\n"</span>;</span></span><br><span class="line"><span class="php">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"False\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">if</span> ($x===$y)&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"True\n"</span>;</span></span><br><span class="line"><span class="php">&#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> <span class="string">"False\n"</span>;</span></span><br><span class="line"><span class="php">&#125;</span></span><br></pre></td></tr></table></figure><br>运行结果：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">string</span><span class="params">(<span class="number">2</span>)</span></span> <span class="string">"25"</span></span><br><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="number">25</span>)</span></span></span><br><span class="line">True</span><br><span class="line">False</span><br></pre></td></tr></table></figure><br>可以看到$x是”25”是一个字符串，而$y是一个整型</p><p>但是在使用==时会判等，因为只比较了值而没有比较类型</p><p><img src="/img/PHP/周报1-0.png" alt="avatar"><br><img src="/img/PHP/周报1-1.png" alt="avatar"></p><h1 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h1><p>PHP5中增加了一条规则：常量被定义后，在脚本的其他任何地方都不能改变</p><p>常量是一个简单的标识符，该值在脚本中不能被改变</p><h2 id="设置常量"><a href="#设置常量" class="headerlink" title="设置常量"></a>设置常量</h2><p>设置常量使用define()函数<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool <span class="class"><span class="keyword">define</span> </span>( <span class="built_in">string</span> $name , mixed $value <span class="meta">[</span>, bool $case_insensitive = <span class="literal">false</span> <span class="meta">]</span> )</span><br></pre></td></tr></table></figure><br>有三个参数：<br>name:必选参数，常量名称，即标识符</p><p>value:必选参数，常量的值</p><p>case_insensitive:可选参数，如果设置为True，该常量则大小写不敏感。默认时大小写敏感的</p><p>例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 区分大小写的常量名</span></span></span><br><span class="line"><span class="php">define(<span class="string">"GREETING"</span>, <span class="string">"欢迎访问 Runoob.com"</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> GREETING;    <span class="comment">// 输出 "欢迎访问 Runoob.com"</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> greeting;   <span class="comment">// 输出 "greeting"</span></span></span><br></pre></td></tr></table></figure></p><p>不区分大小写：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 不区分大小写的常量名</span></span></span><br><span class="line"><span class="php">define(<span class="string">"GREETING"</span>, <span class="string">"欢迎访问 Runoob.com"</span>, <span class="keyword">true</span>);</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> greeting;  <span class="comment">// 输出 "欢迎访问 Runoob.com"</span></span></span><br></pre></td></tr></table></figure><br>常量是全局的，常量在定义之后，默认是全局变量，可以在任意地方使用</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">define(<span class="string">"GREETING"</span>, <span class="string">"欢迎访问 Runoob.com"</span>);</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php"><span class="function"><span class="keyword">function</span> <span class="title">myTest</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="php">    <span class="keyword">echo</span> GREETING;</span></span><br><span class="line"><span class="php">&#125;</span></span><br><span class="line"><span class="php"> </span></span><br><span class="line"><span class="php">myTest();    <span class="comment">// 输出 "欢迎访问 Runoob.com"</span></span></span><br></pre></td></tr></table></figure><h1 id="字符串变量"><a href="#字符串变量" class="headerlink" title="字符串变量"></a>字符串变量</h1><p>字符串变量用于存储并处理文本</p><p>字符串变量用于包含有字符的值，在创建字符串之后，就可以进行操作了</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$txt=<span class="string">"Hello world!"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $txt;</span></span><br></pre></td></tr></table></figure><p>运行结果就是$txt中的值</p><p>PHP7的版本中，不再区分单引号和双引号，使用哪一个都可以定义字符串变量</p><h2 id="并置运算符"><a href="#并置运算符" class="headerlink" title="并置运算符"></a>并置运算符</h2><p>PHP中只有一个字符串运算符，就是<code>.</code>用于把两个字符串值连接起来</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$txt1=<span class="string">"Hello world!"</span>;</span></span><br><span class="line"><span class="php">$txt2=<span class="string">"What a nice day!"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $txt1 . <span class="string">" "</span> . $txt2;</span></span><br></pre></td></tr></table></figure><p>运行结果：<br><figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello world! What a nice day!</span><br></pre></td></tr></table></figure></p><h2 id="strlen-函数"><a href="#strlen-函数" class="headerlink" title="strlen()函数"></a>strlen()函数</h2><p>看函数名字基本上就知道是返回字符串长度的函数<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> strlen(<span class="string">"Hello world!"</span>);</span></span><br></pre></td></tr></table></figure><br>运行结果就是12</p><p>该函数常常用在循环和其他函数中，因为确定字符串何时结束是很重要的</p><h2 id="strpos-函数"><a href="#strpos-函数" class="headerlink" title="strpos()函数"></a>strpos()函数</h2><p>strpos()函数用于在字符串中查找一个字符或一段指定的文本，如果字符串中找到匹配，就会返回第一个匹配的字符位置，如果没找到就返回False</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> strpos(<span class="string">"Hello world!"</span>,<span class="string">"world"</span>);</span></span><br></pre></td></tr></table></figure><p>运行结果为6</p><p>这里为什么不是7，是因为字符串中的第一个字符是以0开始而不是1</p><p>完整PHP String手册参考一下<br><a href="https://www.runoob.com/php/php-ref-string.html" target="_blank" rel="noopener">https://www.runoob.com/php/php-ref-string.html</a></p><h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><div class="table-container"><table><thead><tr><th>描述</th><th>引入方法</th><th>描述</th><th>实例</th><th>结果</th></tr></thead><tbody><tr><td>x + y</td><td>加</td><td>x 和 y 的和</td><td>2 + 2</td><td>4</td></tr><tr><td>x - y</td><td>减</td><td>x 和 y 的差</td><td>5 - 2</td><td>3</td></tr><tr><td>x * y</td><td>乘</td><td>x 和 y 的积</td><td>5 * 2</td><td>10</td></tr><tr><td>x / y</td><td>除</td><td>x 和 y 的商</td><td>15 / 5</td><td>3</td></tr><tr><td>x % y</td><td>模</td><td>x 除以 y 的余数</td><td>5 % 2</td><td>1</td></tr><tr><td>- x</td><td>取反</td><td>x 取反</td><td>$x=-2 echo -$x</td><td>-2</td></tr><tr><td>a . b</td><td>并置</td><td>连接两个字符串</td><td>“Hi” . “Ha”</td><td>HiHa</td></tr></tbody></table></div><p>例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x=<span class="number">10</span>;</span></span><br><span class="line"><span class="php">$y=<span class="number">6</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ($x + $y); <span class="comment">// 输出16</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;  <span class="comment">// 换行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ($x - $y); <span class="comment">// 输出4</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;  <span class="comment">// 换行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ($x * $y); <span class="comment">// 输出60</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;  <span class="comment">// 换行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ($x / $y); <span class="comment">// 输出1.6666666666667</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;  <span class="comment">// 换行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ($x % $y); <span class="comment">// 输出4</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;  <span class="comment">// 换行</span></span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="keyword">echo</span> -$x;</span></span><br></pre></td></tr></table></figure><br>运行结果：<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">16</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">60</span></span><br><span class="line"><span class="number">1.6666666666667</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">-10</span></span><br></pre></td></tr></table></figure><br>PHP7+之后增加了整除运算符intdiv()<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">var_dump(<span class="built_in">int</span>div(<span class="number">10</span>, <span class="number">3</span>));</span><br></pre></td></tr></table></figure><br>运行结果:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="number">3</span>)</span></span></span><br></pre></td></tr></table></figure></p><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><div class="table-container"><table><thead><tr><th>运算符</th><th>等同于</th><th>描述</th></tr></thead><tbody><tr><td>x=y</td><td>x=y</td><td>左操作数被设置为右侧表达式的值</td></tr><tr><td>x+=y</td><td>x=x+y</td><td>加</td></tr><tr><td>x-=y</td><td>x=x-y</td><td>减</td></tr><tr><td>x*=y</td><td>x=x*y</td><td>乘</td></tr><tr><td>x/=y</td><td>x=x/y</td><td>除</td></tr><tr><td>x%=y</td><td>x=x%y</td><td>模</td></tr><tr><td>a.=b</td><td>a=a.b</td><td>连接两个字符串</td></tr></tbody></table></div><p>例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x=<span class="number">10</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $x; <span class="comment">// 输出10</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$y=<span class="number">20</span>;</span></span><br><span class="line"><span class="php">$y += <span class="number">100</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $y; <span class="comment">// 输出120</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$z=<span class="number">50</span>;</span></span><br><span class="line"><span class="php">$z -= <span class="number">25</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $z; <span class="comment">// 输出25</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$i=<span class="number">5</span>;</span></span><br><span class="line"><span class="php">$i *= <span class="number">6</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $i; <span class="comment">// 输出30</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$j=<span class="number">10</span>;</span></span><br><span class="line"><span class="php">$j /= <span class="number">5</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $j; <span class="comment">// 输出2</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$k=<span class="number">15</span>;</span></span><br><span class="line"><span class="php">$k %= <span class="number">4</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $k; <span class="comment">// 输出3</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br></pre></td></tr></table></figure><br>运行结果：<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">120</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">30</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure></p><h2 id="递增-递减运算符"><a href="#递增-递减运算符" class="headerlink" title="递增/递减运算符"></a>递增/递减运算符</h2><div class="table-container"><table><thead><tr><th>运算符</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>++x</td><td>预递增</td><td>x加1，然后返回x</td></tr><tr><td>x++</td><td>后递增</td><td>返回x，然后x加1</td></tr><tr><td>—x</td><td>预递减</td><td>x减1，然后返回x</td></tr><tr><td>x—</td><td>后递减</td><td>返回x，然后x减1</td></tr></tbody></table></div><p>例如：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x=<span class="number">10</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> ++$x; <span class="comment">// 输出11</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$y=<span class="number">10</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $y++; <span class="comment">// 输出10</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$z=<span class="number">5</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> --$z; <span class="comment">// 输出4</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php">$i=<span class="number">5</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $i--; <span class="comment">// 输出5</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br></pre></td></tr></table></figure><br>运行结果:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure></p><h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><div class="table-container"><table><thead><tr><th>运算符</th><th>名称</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>x==y</td><td>等于</td><td>如果x等于y，则返回true</td><td>5==8返回false</td></tr><tr><td>x===y</td><td>绝对等于</td><td>如果x等于y，且它们类型相同，则返回true</td><td>5===”5”返回false</td></tr><tr><td>x!=y</td><td>不等于</td><td>如果x不等于y，则返回true</td><td>5!=8返回true</td></tr><tr><td>x&lt;&gt;y</td><td>不等于</td><td>如果x不等于y，则返回true</td><td>5&lt;&gt;8返回true</td></tr><tr><td>x!==y</td><td>绝对不等于</td><td>如果x不等于y，或它们类型不相同，则返回true</td><td>5!==”5”返回true</td></tr><tr><td>x&gt;y</td><td>大于</td><td>如果x大于y，则返回true</td><td>5&gt;8返回false</td></tr><tr><td>x&lt;y</td><td>小于</td><td>如果x小于y，则返回true</td><td>5&lt;8返回true</td></tr><tr><td>x&gt;=y</td><td>大于等于</td><td>如果x大于或者等于y，则返回true</td><td>5&gt;=8返回false</td></tr><tr><td>x&lt;=y</td><td>小于等于</td><td>如果x小于或者等于y，则返回true</td><td>5&lt;=8返回true</td></tr></tbody></table></div><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="meta"><span class="meta-keyword">$x</span>=100;</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$y</span>="100";</span></span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>x == <span class="symbol">$</span>y);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>x === <span class="symbol">$</span>y);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>x != <span class="symbol">$</span>y);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>x !== <span class="symbol">$</span>y);</span><br><span class="line"></span><br><span class="line"><span class="meta"><span class="meta-keyword">$a</span>=50;</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$b</span>=90;</span></span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>a &gt; <span class="symbol">$</span>b);</span><br><span class="line"></span><br><span class="line">var_dump(<span class="symbol">$</span>a &lt; <span class="symbol">$</span>b);</span><br></pre></td></tr></table></figure><p>运行结果:<br><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"><span class="title">bool</span>(<span class="variable"><span class="literal">true</span></span>)</span></span><br></pre></td></tr></table></figure></p><h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><div class="table-container"><table><thead><tr><th>运算符</th><th>名称</th><th>描述</th><th>实例</th></tr></thead><tbody><tr><td>x and y</td><td>与</td><td>如果x和y都为true，则返回true</td><td>x=6 y=3 (x<10 and y>1)返回true</td></tr><tr><td>x or y</td><td>或</td><td>如果x和y至少有一个为true，则返回true</td><td>x=6 y=3 (x==6 or y==5)返回true</td></tr><tr><td>x xor y</td><td>异或</td><td>如果x和y有且仅有一个为true，则返回true</td><td>x=6 y=3 (x==6 xor y==3)返回false</td></tr><tr><td>x &amp;&amp; y</td><td>与</td><td>如果x和y都为true，则返回true</td><td>x=6 y=3 (x<10 && y>1)返回true</td></tr><tr><td>!x</td><td>非</td><td>如果x不为true，则返回true</td><td>x=6 y=3 !(x==y)返回true</td></tr></tbody></table></div><h2 id="数组运算符"><a href="#数组运算符" class="headerlink" title="数组运算符"></a>数组运算符</h2><div class="table-container"><table><thead><tr><th>运算符</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>x+y</td><td>集合</td><td>x和y的集合</td></tr><tr><td>x==y</td><td>相等</td><td>如果x和y具有相同的键/值对，则返回true</td></tr><tr><td>x===y</td><td>恒等</td><td>如果x和y具有相同的键/值对，且顺序相同类型相同，则返回true</td></tr><tr><td>x!=y</td><td>不相等</td><td>如果x不等于y，则返回true</td></tr><tr><td>x&lt;&gt;y</td><td>不相等</td><td>如果x不等于y，则返回true</td></tr><tr><td>x!==y</td><td>不恒等</td><td>如果x不等于y，则返回true</td></tr></tbody></table></div><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$x = <span class="keyword">array</span>(<span class="string">"a"</span> =&gt; <span class="string">"red"</span>, <span class="string">"b"</span> =&gt; <span class="string">"green"</span>);</span></span><br><span class="line"><span class="php">$y = <span class="keyword">array</span>(<span class="string">"c"</span> =&gt; <span class="string">"blue"</span>, <span class="string">"d"</span> =&gt; <span class="string">"yellow"</span>);</span></span><br><span class="line"><span class="php">$z = $x + $y; <span class="comment">// $x 和 $y 数组合并</span></span></span><br><span class="line"><span class="php">var_dump($z);</span></span><br><span class="line"><span class="php">var_dump($x == $y);</span></span><br><span class="line"><span class="php">var_dump($x === $y);</span></span><br><span class="line"><span class="php">var_dump($x != $y);</span></span><br><span class="line"><span class="php">var_dump($x &lt;&gt; $y);</span></span><br><span class="line"><span class="php">var_dump($x !== $y);</span></span><br></pre></td></tr></table></figure><p>运行结果:<br><figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">array</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  [<span class="string">"a"</span>]=&gt;</span><br><span class="line">  <span class="built_in">string</span>(<span class="number">3</span>) <span class="string">"red"</span></span><br><span class="line">  [<span class="string">"b"</span>]=&gt;</span><br><span class="line">  <span class="built_in">string</span>(<span class="number">5</span>) <span class="string">"green"</span></span><br><span class="line">  [<span class="string">"c"</span>]=&gt;</span><br><span class="line">  <span class="built_in">string</span>(<span class="number">4</span>) <span class="string">"blue"</span></span><br><span class="line">  [<span class="string">"d"</span>]=&gt;</span><br><span class="line">  <span class="built_in">string</span>(<span class="number">6</span>) <span class="string">"yellow"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">false</span>)</span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure></p><h2 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h2><p>另一个条件运算符是”?:”（或三元）运算符</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(expr1)</span> ? <span class="comment">(expr2)</span> : <span class="comment">(expr3)</span></span><br></pre></td></tr></table></figure><p>expr1 求值为 TRUE 时的值为 expr2，在 expr1 求值为 FALSE 时的值为 expr3</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php">$test = <span class="string">'菜鸟教程'</span>;</span></span><br><span class="line"><span class="php"><span class="comment">// 普通写法</span></span></span><br><span class="line"><span class="php">$username = <span class="keyword">isset</span>($test) ? $test : <span class="string">'nobody'</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $username, PHP_EOL;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// PHP 5.3+ 版本写法</span></span></span><br><span class="line"><span class="php">$username = $test ?: <span class="string">'nobody'</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> $username, PHP_EOL;</span></span><br></pre></td></tr></table></figure><p>运行结果:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">菜鸟教程</span><br><span class="line">菜鸟教程</span><br></pre></td></tr></table></figure><br>注意：PHP_EOL 是一个换行符，兼容更大平台</p><p>PHP7+版本多了一个NULL合并运算符<code>??</code><br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="regexp">//</span> 如果 <span class="variable">$_GET</span>[<span class="string">'user'</span>] 不存在返回 <span class="string">'nobody'</span>，否则返回 <span class="variable">$_GET</span>[<span class="string">'user'</span>] 的值</span><br><span class="line"><span class="variable">$username</span> = <span class="variable">$_GET</span>[<span class="string">'user'</span>] ?? <span class="string">'nobody'</span>;</span><br><span class="line"><span class="regexp">//</span> 类似的三元运算符</span><br><span class="line"><span class="variable">$username</span> = isset(<span class="variable">$_GET</span>[<span class="string">'user'</span>]) ? <span class="variable">$_GET</span>[<span class="string">'user'</span>] : <span class="string">'nobody'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="组合比较符-PHP7"><a href="#组合比较符-PHP7" class="headerlink" title="组合比较符(PHP7+)"></a>组合比较符(PHP7+)</h2><p>PHP7+ 支持组合比较符，也称之为太空船操作符，符号为 &lt;=&gt;。组合比较运算符可以轻松实现两个变量的比较，当然不仅限于数值类数据的比较</p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$c</span> = <span class="variable">$a</span> <span class="variable">&lt;=&gt;</span> <span class="variable">$b</span>;</span><br></pre></td></tr></table></figure><p>解析如下:<br>如果$a&gt;$b，则$c的值为1<br>如果$a==$b，则$c的值为0<br>如果$a&lt;$b，则$c的值为-1</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="php"><span class="meta">&lt;?php</span></span></span><br><span class="line"><span class="php"><span class="comment">// 整型</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 0</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">2</span>; <span class="comment">// -1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">2</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">// 1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 浮点型</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 0</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">2.5</span>; <span class="comment">// -1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="number">2.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="php"><span class="comment">// 字符串</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 0</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"b"</span>; <span class="comment">// -1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"b"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 1</span></span></span><br><span class="line"><span class="php"><span class="keyword">echo</span> <span class="string">"\n"</span>;</span></span><br></pre></td></tr></table></figure><p>运行结果:<br><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>1.==和===很常用，可以理解为前者睁一只眼闭一只眼，后者一只都不闭</p><p>2.define()是PHP5版本的函数，在PHP7+之后基本上都使用在类的内部定义的常量。使用const申明定义，以后遇到类再说</p><p>3.intdiv()类似于取整函数,向下取整而不是四舍五入</p><p>4.字符串和数组一样都是以0开头计数</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;类型比较&quot;&gt;&lt;a href=&quot;#类型比较&quot; class=&quot;headerlink&quot; title=&quot;类型比较&quot;&gt;&lt;/a&gt;类型比较&lt;/h1&gt;&lt;p&gt;虽然PHP是弱类型语言，但是对于变量的比较还是有一些不同&lt;/p&gt;
&lt;p&gt;松散比较：使用&lt;code&gt;==&lt;/code&gt;比较，只
      
    
    </summary>
    
    
      <category term="日常学习" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="PHP" scheme="http://yoursite.com/categories/%E6%97%A5%E5%B8%B8%E5%AD%A6%E4%B9%A0/PHP/"/>
    
    
      <category term="CTF" scheme="http://yoursite.com/tags/CTF/"/>
    
  </entry>
  
</feed>
